<app-page-wrapper [gridClass]="'col-sm-12'" [title]="type() +'_category'">
  <form class="theme-form theme-form-2 mega-form" [formGroup]="form" (ngSubmit)="submit()">
    <app-form-fields [label]="'name' | translate" [for]="'name'" [required]="true">
      <input
        class="form-control"
        type="text"
        placeholder="{{ 'enter_name' | translate }}"
        formControlName="name"
      />
      @if(form.controls['name'].touched && form.controls['name'].errors?.['required']){
      <div class="invalid-feedback">{{ 'name_is_required' | translate }}</div>
      }
    </app-form-fields>

    <app-form-fields [label]="'description' | translate" [for]="'description'" [required]="false">
      <textarea
        class="form-control"
        placeholder="{{ 'enter_description' | translate }}"
        formControlName="description"
        rows="3"
      ></textarea>
    </app-form-fields>

    <app-form-fields [label]="'select_parent' | translate " [for]="'category'" [required]="false">
      <app-advance-dropdown
        [selectSingle]="true"
        [selectedOption]="category && category.parent_id ? [category.parent_id] : []"
        [options]="categories()"
        [subArrayKey]="'subcategories'"
        (selectedItem)="selectItem($event)"
      />
    </app-form-fields>

    <app-form-fields [label]="'status' | translate " [for]="'status'" [required]="false">
      <div class="form-check form-switch ps-0">
        <label class="switch">
          <input type="checkbox" id="status" formControlName="status" />
          <span class="switch-state"></span>
        </label>
      </div>
    </app-form-fields>

    <app-button [id]="'category_btn'">
      {{ (type() === 'create' ? 'save_category' : 'update_category') | translate }}
    </app-button>
  </form>
</app-page-wrapper>
