import './polyfills.server.mjs';
import{F as l,J as h}from"./chunk-YFDK4DGQ.mjs";import{$ as n,Ed as f,Fd as y,Gd as s,U as m,ea as i,g as a}from"./chunk-EYQ2IV36.mjs";var g=(()=>{class e{constructor(){this.http=i(l)}getCountries(){return this.http.get(`${h.URL}/country.json`)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var j=(()=>{class e{static{this.type="[Country] Get"}constructor(){}}return e})();var u=class d{constructor(){this.countryService=i(g)}static country(t){return t.country}static countries(t){return t?.country?.data?.map(r=>({label:r?.name,value:r?.id}))}getCountries(t,r){return t.getState()?.country?.data?.length?!0:this.countryService.getCountries().pipe(m({next:c=>{t.patchState({country:{data:c}})},error:c=>{throw new Error(c?.error?.message)}}))}static{this.\u0275fac=function(r){return new(r||d)}}static{this.\u0275prov=n({token:d,factory:d.\u0275fac})}};a([f(j)],u.prototype,"getCountries",null);a([s()],u,"country",null);a([s()],u,"countries",null);u=a([y({name:"country",defaults:{country:{data:[]}}})],u);var C=(()=>{class e{constructor(){this.http=i(l)}getStates(){return this.http.get(`${h.URL}/state.json`)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var b=(()=>{class e{static{this.type="[State] Get"}constructor(r){this.country_id=r}}return e})();var p=class S{constructor(){this.stateService=i(C)}static state(t){return t.state}static states(t){return r=>r?t.state.data.filter(o=>o.country_id==r).map(o=>({label:o?.name,value:o?.id,country_id:o?.country_id})):t.state.data.map(o=>({label:o?.name,value:o?.id,country_id:o?.country_id}))}getStates(t,r){return t.getState()?.state?.data?.length?!0:this.stateService.getStates().pipe(m({next:c=>{t.patchState({state:{data:c}})},error:c=>{throw new Error(c?.error?.message)}}))}static{this.\u0275fac=function(r){return new(r||S)}}static{this.\u0275prov=n({token:S,factory:S.\u0275fac})}};a([f(b)],p.prototype,"getStates",null);a([s()],p,"state",null);a([s()],p,"states",null);p=a([y({name:"state",defaults:{state:{data:[]}}})],p);export{j as a,b,u as c,p as d};
