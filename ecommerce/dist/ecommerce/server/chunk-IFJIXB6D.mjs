import './polyfills.server.mjs';
import{a as dt,b as ft,c as ht,d as gt,h as W,l as Y}from"./chunk-SQVLAE5Q.mjs";import{a as B}from"./chunk-5NRLYQRM.mjs";import{A as pt,F as P,l as b,o as M,v as ut}from"./chunk-2RBLLN6M.mjs";import{m as I,n as O,o as S}from"./chunk-KL6F6H7P.mjs";import{Bb as lt,Cb as m,Da as at,E as et,J as nt,Ja as st,Mb as E,R as it,T,Tc as U,U as F,Uc as z,Vb as d,Wb as q,X as g,Xb as V,Yb as x,ac as H,bc as Z,ca as o,d as Q,da as y,e as R,fa as rt,fb as p,ga as u,h as X,ha as c,i as s,k as A,lc as a,p as h,q as tt,qb as ct,va as ot,vc as f,wb as G,x as D,xb as C}from"./chunk-KHPBT355.mjs";import{a as l,b as _}from"./chunk-S6KH3LOX.mjs";function yt(e,n){if(e&1&&(q(0,"div",3),x(1,"div",4),V()),e&2){let t=a(2);p(),f("width",t.diameter)("height",t.diameter)}}function Ct(e,n){if(e&1&&x(0,"div",5),e&2){let t=a().ngIf,i=a();f("background",i.color)("height",i.height)("width",t+"%")}}function bt(e,n){if(e&1&&(H(0),m(1,yt,2,4,"div",1)(2,Ct,1,6,"div",2),Z()),e&2){let t=a();p(),d("ngIf",t.includeSpinner),p(),d("ngIf",t.includeBar)}}function Mt(e,n){if(e&1&&(q(0,"div",3),x(1,"div",4),V()),e&2){let t=a(2);p(),f("width",t.diameter)("height",t.diameter)}}function Pt(e,n){if(e&1&&x(0,"div",5),e&2){let t=a().ngIf,i=a();f("background",i.color)("height",i.height)("width",t+"%")}}function It(e,n){if(e&1&&(H(0),m(1,Mt,2,4,"div",1)(2,Pt,1,6,"div",2),Z()),e&2){let t=a();p(),d("ngIf",t.includeSpinner),p(),d("ngIf",t.includeBar)}}var Ot="[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}",J=class{constructor(n={}){this.config=n,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new R,this._value$=null,this.timer$=t=>{let i=A(t);switch(t.action){case"start":case"increment":case"set":{t.action==="start"&&this.config.latencyThreshold===0&&t.value===0&&(t.value=t.initialValue),this.requests>0&&(i=D(this.config.latencyThreshold,250).pipe(h(r=>_(l({},t),{value:r===0?this.state.value||t.initialValue:this._increment()}))));break}case"complete":case"stop":{i=t.value===0?A(l({},t)):D(0,500).pipe(nt(2),h(r=>({value:r===0?100:0})));break}}return i.pipe(h(r=>_(l({},r),{action:"set"})),g(r=>this.next(r,!1)))},this.config=l({latencyThreshold:0},n)}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(T(this.state),F(n=>this.timer$(n)),it(),h(n=>n.value))}start(n=2){this.disabled||this.next({action:"start",initialValue:n})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(n){this.next({action:"set",value:n})}increment(n=0){this.next({action:"increment",value:n})}next(n,t=!0){switch(n.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":n.value=this._increment(n.value);break}this.state=l(_(l({},this.state),{action:null}),n),t&&this.stream$.next(this.state)}_increment(n=0){let t=this.state.value;return t>=99&&(n=0),n===0&&(t>=0&&t<25?n=Math.random()*3+3:t>=25&&t<65?n=Math.random()*3:t>=65&&t<90?n=Math.random()*2:t>=90&&t<99?n=.5:n=0),n+t}},St=new rt("LOADING_BAR_CONFIG");var w=(()=>{class e{get progress$(){return this.value$}constructor(t,i={},r){this.platformId=t,this.config=i,this.zone=r,this.refs={},this.streams$=new R,this.value$=this.streams$.pipe(T(null),F(()=>tt(Object.keys(this.refs).map($=>this.refs[$].value$))),Bt(this.zone),h($=>Math.max(0,...$)))}start(t=2){this.useRef().start(t)}set(t){this.useRef().set(t)}increment(t){this.useRef().increment(t)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(t="default"){return this.refs[t]||(this.refs[t]=new J(this.config),this.streams$.next(),pt(this.platformId)||this.refs[t].disable()),this.refs[t]}static{this.\u0275fac=function(i){return new(i||e)(u(st),u(St,8),u(ot,8))}}static{this.\u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Bt(e){return e?n=>new Q(t=>n.subscribe(i=>e.run(()=>t.next(i)),i=>e.run(()=>t.error(i)),()=>e.run(()=>t.complete()))):n=>n}var wt=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(t){this.loader=t,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(i){return new(i||e)(ct(w))}}static{this.\u0275cmp=G({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(i,r){i&2&&(E("fixed",r.fixed),f("color",r.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(i,r){i&1&&(m(0,bt,3,2,"ng-container",0),U(1,"async")),i&2&&d("ngIf",r.value!=null?r.value:z(1,1,r.value$))},dependencies:[M,b],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Ut=(()=>{class e extends wt{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=at(e)))(r||e)}})()}static{this.\u0275cmp=G({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(i,r){i&2&&(E("fixed",r.fixed),f("color",r.color))},standalone:!1,features:[lt],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(i,r){i&1&&(m(0,It,3,2,"ng-container",0),U(1,"async")),i&2&&d("ngIf",r.value!=null?r.value:z(1,1,r.value$))},dependencies:[b,M],styles:[Ot],changeDetection:0})}}return e})(),K=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=C({type:e})}static{this.\u0275inj=y({imports:[ut]})}}return e})();function jt(e){let n=e.getCurrentNavigation&&e.getCurrentNavigation();return n&&n.extras?n.extras.state:{}}function kt(e,n){return()=>{let t=n.useRef("router");e.events.subscribe(i=>{let r=jt(e);r&&r.ignoreLoadingBar||(i instanceof dt&&t.start(),(i instanceof gt||i instanceof ft||i instanceof ht)&&t.complete())})}}var Kt=(()=>{class e{constructor(t,i){kt(t,i)()}static{this.\u0275fac=function(i){return new(i||e)(u(W),u(w))}}static{this.\u0275mod=C({type:e})}static{this.\u0275inj=y({imports:[Y,K,Y,K]})}}return e})();var mt=(()=>{class e{static{this.type="[Menu] Get"}constructor(t){this.payload=t}}return e})();var te=(()=>{class e{static{this.type="[Subscription] Post"}constructor(t){this.payload=t}}return e})();var xt=(()=>{class e{static{this.type="[Currency] Get"}constructor(t){this.payload=t}}return e})();var vt=(()=>{class e{constructor(){this.http=c(P),this.skeletonLoader=!1,this.mainMenuToggle=!1,this.sideNavToggle=!1,this.isOpenSearch=!1}getMenu(t){return this.http.get(`${B.URL}/menu.json`,{params:t})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var j=class L{constructor(){this.menuService=c(vt)}static menu(n){return n.menu}getMenu(n,t){if(!(n.getState().menu.data.length>0))return this.menuService.skeletonLoader=!0,this.menuService.getMenu(t.payload).pipe(g({next:i=>{n.patchState({menu:{data:i.data,total:i?.total?i?.total:i.data?.length}})},complete:()=>{this.menuService.skeletonLoader=!1}}),et(()=>(this.menuService.skeletonLoader=!1,n.patchState({menu:{data:[],total:0}}),X)))}static{this.\u0275fac=function(t){return new(t||L)}}static{this.\u0275prov=o({token:L,factory:L.\u0275fac})}};s([I(mt)],j.prototype,"getMenu",null);s([S()],j,"menu",null);j=s([O({name:"menu",defaults:{menu:{data:[],total:0}}})],j);var _t=(()=>{class e{constructor(){this.http=c(P)}getCurrencies(t){return this.http.get(`${B.URL}/currency.json`,{params:t})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var N=class k{constructor(){this.currencyService=c(_t)}static currency(n){return n.currency}getCurrencies(n,t){return this.currencyService.getCurrencies(t.payload).pipe(g({next:i=>{n.patchState({currency:{data:i.data,total:i?.total?i?.total:i.data?.length}})},error:i=>{throw new Error(i?.error?.message)}}))}static{this.\u0275fac=function(t){return new(t||k)}}static{this.\u0275prov=o({token:k,factory:k.\u0275fac})}};s([I(xt)],N.prototype,"getCurrencies",null);s([S()],N,"currency",null);N=s([O({name:"currency",defaults:{currency:{data:[],total:0}}})],N);export{xt as a,Ut as b,Kt as c,te as d,vt as e,mt as f,j as g,N as h};
