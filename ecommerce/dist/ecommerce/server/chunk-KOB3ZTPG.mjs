import './polyfills.server.mjs';
import{a as re,b as le}from"./chunk-KTZNWDZJ.mjs";import{f as ne,h as ae}from"./chunk-SA44XEY6.mjs";import{c as oe,d as de}from"./chunk-HTTE2C5C.mjs";import{a as te}from"./chunk-6EN6P2C2.mjs";import"./chunk-DKQAZ6TZ.mjs";import{a as ie}from"./chunk-P7RWWCBA.mjs";import{e as Q,i as W,l as X}from"./chunk-SAXPEPMR.mjs";import{a as ee}from"./chunk-IV76L2RG.mjs";import{c as Y,d as Z}from"./chunk-HXKEOFIU.mjs";import"./chunk-UGNKHL6U.mjs";import"./chunk-UI4PXNVK.mjs";import"./chunk-4CI2YZJN.mjs";import"./chunk-7JYYQ2KV.mjs";import{i as R,k as V,o as G,p as H,q as J,r as K}from"./chunk-YFDK4DGQ.mjs";import{$b as P,Cd as b,Ec as E,Gc as U,Hc as j,Ic as L,Jb as m,Lb as u,Lc as l,Mc as o,Nc as z,Ob as S,Pb as y,Qb as v,R as w,Rb as n,S as k,Sb as a,Tb as x,Xa as C,ab as t,d as D,ea as h,ec as N,gc as c,ka as $,la as M,p as T,rb as q,rc as F,tc as f,uc as r,vc as d,wc as _,xc as A,yc as I,zc as B}from"./chunk-EYQ2IV36.mjs";import"./chunk-S6KH3LOX.mjs";var pe=i=>({"d-none":i}),se=()=>["/order/details"],ce=(i,p)=>({order_number:i,email_or_phone:p}),O=(i,p)=>p.id;function me(i,p){if(i&1&&(n(0,"li",32)(1,"div",33)(2,"div",34),x(3,"img",35),a(),n(4,"div",36),r(5),l(6,"titlecase"),a()()()),i&2){let e=p.$implicit,s=c(3);F("active",(e==null?null:e.sequence)<=s.order.order_status.sequence),v("ngClass",j(8,pe,(e==null?null:e.sequence)>=s.order.order_status.sequence&&s.order.order_status&&s.order.order_status.slug==="cancelled"||(e==null?null:e.slug)==="cancelled"||s.order.is_digital_only&&((e==null?null:e.slug)==="shipped"||(e==null?null:e.slug)==="out-for-delivery"))),t(3),v("src",E("assets/svg/tracking/",e==null?null:e.slug,".svg"),C),t(2),_(" ",o(6,6,e==null||e.name==null?null:e.name.replaceAll("_"," "))," ")}}function ue(i,p){if(i&1&&(n(0,"div",33)(1,"div",34),x(2,"img",35),a(),n(3,"div",36),r(4),l(5,"titlecase"),a()()),i&2){let e=c(4);t(2),v("src",E("assets/svg/tracking/",e.order.order_status.slug,".svg"),C),t(2),_(" ",o(5,3,e.order.order_status.name.replaceAll("_"," "))," ")}}function _e(i,p){if(i&1&&(n(0,"li",31),m(1,ue,6,5,"div",33),a()),i&2){let e=c(3);t(),u(e.order&&e.order.order_status?1:-1)}}function xe(i,p){if(i&1&&(n(0,"ul"),S(1,me,7,10,"li",30,O),l(3,"async"),m(4,_e,2,1,"li",31),a()),i&2){let e,s=c(2);t(),y((e=o(3,1,s.orderStatus$))==null?null:e.data),t(3),u(s.order&&s.order.order_status&&s.order.order_status.slug==="cancelled"?4:-1)}}function ve(i,p){if(i&1&&(n(0,"tr")(1,"td",41),x(2,"img",42),a(),n(3,"td")(4,"h6"),r(5),a()(),n(6,"td")(7,"h6"),r(8),l(9,"currencySymbol"),a()(),n(10,"td")(11,"h6"),r(12),a()(),n(13,"td")(14,"h6"),r(15),l(16,"currencySymbol"),a()()()),i&2){let e=p.$implicit;t(2),v("src",!(e==null||e.pivot==null)&&e.pivot.variation&&(!(e==null||e.pivot==null||e.pivot.variation==null)&&e.pivot.variation.variation_image)?e==null||e.pivot==null||e.pivot.variation==null||e.pivot.variation.variation_image==null?null:e.pivot.variation.variation_image.original_url:e!=null&&e.product_thumbnail?e==null||e.product_thumbnail==null?null:e.product_thumbnail.original_url:"assets/images/placeholder/product.png",C),t(3),_(" ",!(e==null||e.pivot==null)&&e.pivot.variation?e==null||e.pivot==null||e.pivot.variation==null?null:e.pivot.variation.name:e==null?null:e.name," "),t(3),d(o(9,5,e==null||e.pivot==null?null:e.pivot.single_price)),t(4),d(e==null||e.pivot==null?null:e.pivot.quantity),t(3),d(o(16,7,e==null||e.pivot==null?null:e.pivot.subtotal))}}function he(i,p){if(i&1&&(n(0,"div",15)(1,"div",20)(2,"div",37)(3,"div",38)(4,"table",39)(5,"thead")(6,"tr")(7,"th",40),r(8),l(9,"translate"),a(),n(10,"th",40),r(11),l(12,"translate"),a(),n(13,"th",40),r(14),l(15,"translate"),a(),n(16,"th",40),r(17),l(18,"translate"),a(),n(19,"th",40),r(20),l(21,"translate"),a()()(),n(22,"tbody"),S(23,ve,17,9,"tr",null,O),a()()()()()()),i&2){let e=c(2);t(8),d(o(9,5,"image")),t(3),d(o(12,7,"name")),t(3),d(o(15,9,"price")),t(3),d(o(18,11,"quantity")),t(3),d(o(21,13,"subtotal")),t(3),y(e.order.products)}}function ge(i,p){if(i&1&&(n(0,"li",24)(1,"label"),r(2),l(3,"translate"),a(),n(4,"h4"),r(5),x(6,"br"),r(7),l(8,"translate"),a()()),i&2){let e=c(2);t(2),_("",o(3,9,"billing_address"),":"),t(3),B(" ",e.order.billing_address.street," ",e.order.billing_address.city," ",e.getStateName(e.order.billing_address.state_id)," ",e.getCountryName(e.order.billing_address.country_id)," ",e.order.billing_address.pincode," "),t(2),I(" ",o(8,11,"phone")," : +",e.order.billing_address.country_code," ",e.order.billing_address.phone," ")}}function be(i,p){if(i&1&&(n(0,"li",24)(1,"label"),r(2),l(3,"translate"),a(),n(4,"h4"),r(5),x(6,"br"),r(7),l(8,"translate"),a()()),i&2){let e=c(2);t(2),_("",o(3,9,"shipping_address"),":"),t(3),B(" ",e.order.shipping_address.street," ",e.order.shipping_address.city," ",e.getStateName(e.order.shipping_address.state_id)," ",e.getCountryName(e.order.shipping_address.country_id)," ",e.order.shipping_address.pincode," "),t(2),I(" ",o(8,11,"phone")," : +",e.order.shipping_address.country_code," ",e.order.shipping_address.phone," ")}}function Ce(i,p){if(i&1&&(n(0,"li",24)(1,"label"),r(2),l(3,"translate"),a(),n(4,"h4"),r(5),a()()),i&2){let e=c(2);t(2),_("",o(3,2,"delivery_slot"),":"),t(3),d(e.order.delivery_description)}}function Se(i,p){if(i&1&&(n(0,"li",43)(1,"label"),r(2),l(3,"translate"),a(),n(4,"div",44)(5,"h4"),r(6),l(7,"uppercase"),a()()(),n(8,"li",43)(9,"label"),r(10),l(11,"translate"),a(),n(12,"div",44)(13,"h4"),r(14),l(15,"uppercase"),a()()()),i&2){let e=c(2);t(2),_("",o(3,4,"payment_mode"),":"),t(4),d(o(7,6,e.order.payment_method)),t(4),_("",o(11,8,"payment_status"),":"),t(4),d(o(15,10,e.order.payment_status))}}function ye(i,p){if(i&1&&(n(0,"li"),r(1),l(2,"translate"),n(3,"span"),r(4),l(5,"currencySymbol"),a()()),i&2){let e=c(2);t(),_(" ",o(2,2,"shipping")," "),t(3),d(o(5,4,e.order.shipping_total?e.order.shipping_total:0))}}function fe(i,p){if(i&1&&(n(0,"li",29),r(1),l(2,"translate"),n(3,"span"),r(4),l(5,"currencySymbol"),a()()),i&2){let e=c(2);t(),_(" ",o(2,2,"points")," "),t(3),d(o(5,4,e.order.points_amount))}}function Ee(i,p){if(i&1&&(n(0,"li",29),r(1),l(2,"translate"),n(3,"span"),r(4),l(5,"currencySymbol"),a()()),i&2){let e=c(2);t(),_(" ",o(2,2,"wallet_balance")," "),t(3),d(o(5,4,e.order.wallet_balance))}}function Ie(i,p){if(i&1&&(n(0,"li",29),r(1),l(2,"translate"),n(3,"span"),r(4),l(5,"currencySymbol"),a()()),i&2){let e=c(2);t(),_(" ",o(2,2,"coupon_discount")," "),t(3),d(o(5,4,e.order.coupon_total_discount))}}function Be(i,p){if(i&1&&(n(0,"tr")(1,"td")(2,"h6"),r(3),a()(),n(4,"td")(5,"h6"),r(6),l(7,"date"),a()(),n(8,"td")(9,"h6"),r(10),l(11,"currencySymbol"),a()(),n(12,"td")(13,"h6")(14,"div")(15,"span"),r(16),a()()()(),n(17,"td")(18,"a",45),x(19,"i"),a()()()),i&2){let e=p.$implicit,s=c(3);t(3),d("#"+e.order_number),t(3),d(z(7,11,e.created_at,"dd MMM yyyy hh:mm:a")),t(4),d(o(11,14,e.amount)),t(4),f(E("status-",e.order_status.slug)),t(2),d(e.order_status.name),t(2),v("routerLink",U(16,se))("queryParams",L(17,ce,e.order_number,s.email_or_phone)),t(),f("ri-eye-line")}}function Oe(i,p){if(i&1&&(n(0,"div",15)(1,"div",20)(2,"div",37)(3,"div",38)(4,"table",39)(5,"thead")(6,"tr")(7,"th",40),r(8),l(9,"translate"),a(),n(10,"th",40),r(11),l(12,"translate"),a(),n(13,"th",40),r(14),l(15,"translate"),a(),n(16,"th",40),r(17),l(18,"translate"),a(),n(19,"th",40),r(20),l(21,"translate"),a()()(),n(22,"tbody"),S(23,Be,20,20,"tr",null,O),a()()()()()()),i&2){let e=c(2);t(8),d(o(9,5,"order_number")),t(3),d(o(12,7,"order_date")),t(3),d(o(15,9,"total_amount")),t(3),d(o(18,11,"status")),t(3),d(o(21,13,"action")),t(3),y(e.order.sub_orders)}}function De(i,p){if(i&1){let e=P();n(0,"div",7)(1,"div")(2,"div",9)(3,"div",10)(4,"h5")(5,"a",11),N("click",function(){$(e);let g=c();return M(g.back())}),x(6,"i",12),a(),r(7),l(8,"translate"),a()()(),n(9,"div",13)(10,"div",14),m(11,xe,5,3,"ul"),a()(),m(12,he,25,15,"div",15),n(13,"div",16)(14,"div",17)(15,"div",18)(16,"div",19)(17,"div",20)(18,"h3",21),r(19),l(20,"translate"),a(),n(21,"div",22)(22,"ul",23),m(23,ge,9,13,"li",24),m(24,be,9,13,"li",24),m(25,Ce,6,4,"li",24),m(26,Se,16,12),a()()()()(),n(27,"div",25)(28,"div",26)(29,"div",20)(30,"h3",27),r(31),l(32,"translate"),a(),n(33,"div",28)(34,"ul")(35,"li"),r(36),l(37,"translate"),n(38,"span"),r(39),l(40,"currencySymbol"),a()(),m(41,ye,6,6,"li"),n(42,"li"),r(43),l(44,"translate"),n(45,"span"),r(46),l(47,"currencySymbol"),a()(),m(48,fe,6,6,"li",29),m(49,Ee,6,6,"li",29),m(50,Ie,6,6,"li",29),n(51,"li"),r(52),l(53,"translate"),n(54,"span"),r(55),l(56,"currencySymbol"),a()()()()()()()()(),m(57,Oe,25,15,"div",15),a()()}if(i&2){let e=c();t(7),A("",o(8,21,"order_number"),": #",e.order.order_number," "),t(4),u(e.order&&!e.order.sub_orders.length?11:-1),t(),u(e.order&&e.order.products.length?12:-1),t(7),d(o(20,23,"consumer_details")),t(4),u(e.order&&e.order.billing_address?23:-1),t(),u(e.order&&e.order.shipping_address&&!e.order.is_digital_only?24:-1),t(),u(e.order&&e.order.delivery_description&&!e.order.is_digital_only?25:-1),t(),u(e.order&&e.order.payment_method?26:-1),t(5),d(o(32,25,"summary")),t(5),_(" ",o(37,27,"subtotal")," "),t(3),d(o(40,29,e.order.amount?e.order.amount:0)),t(2),u(e.order&&!e.order.is_digital_only?41:-1),t(2),_(" ",o(44,31,"tax")," "),t(3),d(o(47,33,e.order.tax_total?e.order.tax_total:0)),t(2),u(e.order.points_amount!==0?48:-1),t(),u(e.order.wallet_balance!==0?49:-1),t(),u(e.order.coupon_total_discount!==0?50:-1),t(2),_(" ",o(53,35,"total")," "),t(3),d(o(56,37,e.order.total?e.order.total:0)),t(2),u(e.order&&e.order.sub_orders.length?57:-1)}}function Te(i,p){i&1&&(x(0,"app-no-data",46),l(1,"translate")),i&2&&(f("no-data-added"),v("image","assets/svg/empty-items.svg")("text",o(1,4,"no_order_found")))}var We=(()=>{class i{constructor(){this.store=h(b),this.route=h(Q),this.location=h(R),this.orderStatus$=h(b).select(le.orderStatus),this.country$=h(b).select(oe.country),this.state$=h(b).select(de.state),this.destroy$=new D,this.countries=[],this.states=[],this.breadcrumb={title:"Order Details",items:[{label:"Order Details",active:!1}]},this.store.dispatch(new re),this.country$.subscribe(e=>this.countries=e.data),this.state$.subscribe(e=>this.states=e.data)}ngOnInit(){this.route.queryParams.pipe(w(e=>(this.email_or_phone=e.email_or_phone,this.store.dispatch(new ne({order_number:e.order_number.toString(),email_or_phone:e.email_or_phone})).pipe(T(()=>this.store.select(ae.selectedOrder))))),k(this.destroy$)).subscribe(e=>{this.order=e,this.order&&(this.order.consumer=e?.guest_order?e?.guest_order:e?.consumer)})}getCountryName(e){return this.countries.find(s=>s.id==e)?.name}getStateName(e){return this.states.find(s=>s.id==e)?.name}back(){this.location.back()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=q({type:i,selectors:[["app-order-details"]],decls:9,vars:3,consts:[[3,"breadcrumb"],[1,"dashboard-section","section-b-space","user-dashboard-section"],[1,"faq-content"],[1,"tab-pane"],[1,"container"],[1,"row"],[1,"col-xxl-12","col-lg-12"],[1,"dashboard-right-sidebar"],[3,"class","image","text"],[1,"title-header","mb-3"],[1,"d-flex","align-items-center","w-100","justify-content-between"],[3,"click"],[1,"ri-arrow-left-line"],[1,"mb-4","mt-2"],[1,"tracking-panel"],[1,"card","dashboard-table"],[1,"summary-details","my-3"],[1,"row","g-4"],[1,"col-xxl-8","col-lg-12","col-md-7"],[1,"card"],[1,"card-body"],[1,"order-title"],[1,"customer-detail","tracking-wrapper"],[1,"row","g-3"],[1,"col-sm-6"],[1,"col-xxl-4","col-lg-12","col-md-5"],[1,"card","h-m30"],[1,"fw-semibold","mb-3","order-title"],[1,"tracking-total","tracking-wrapper"],[1,"txt-primary","fw-bold"],[3,"active","ngClass"],[1,"active","cancelled-box"],[3,"ngClass"],[1,"panel-content"],[1,"icon"],["alt","image",1,"img-fluid",3,"src"],[1,"status"],[1,"wallet-table"],[1,"tracking-wrapper","table-responsive"],[1,"table","product-table","order-table"],["scope","col"],[1,"product-image"],["alt","product",1,"img-fluid",3,"src"],[1,"col-sm-3"],[1,"d-flex","align-items-center","gap-2"],["href","javascript:void(0)",3,"routerLink","queryParams"],[3,"image","text"]],template:function(s,g){s&1&&(x(0,"app-breadcrumb",0),n(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),m(7,De,58,39,"div",7),m(8,Te,2,6,"app-no-data",8),a()()()()()()),s&2&&(v("breadcrumb",g.breadcrumb),t(7),u(g.order?7:-1),t(),u(g.order?-1:8))},dependencies:[Z,X,W,ie,ee,V,Y,te,G,K,H,J],encapsulation:2})}}return i})();export{We as OrderDetails};
