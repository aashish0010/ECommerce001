import './polyfills.server.mjs';
import{b as F}from"./chunk-GDLHO3HA.mjs";import"./chunk-JPQG6P5S.mjs";import"./chunk-G4SWZ5DO.mjs";import"./chunk-MLK35U7F.mjs";import"./chunk-TGILVAA5.mjs";import"./chunk-UTYEISIS.mjs";import"./chunk-TODHJHPE.mjs";import"./chunk-DRC4J3EK.mjs";import"./chunk-6EN6P2C2.mjs";import"./chunk-G2NVQX2E.mjs";import{b as C}from"./chunk-GURCJVPD.mjs";import"./chunk-QNXPPKF7.mjs";import"./chunk-KKDSYJH5.mjs";import"./chunk-UQW33LOD.mjs";import"./chunk-6MX6A5FI.mjs";import"./chunk-GSPVG2SO.mjs";import"./chunk-EWBUKRSD.mjs";import"./chunk-WXDYULOA.mjs";import"./chunk-G2BXVUH5.mjs";import"./chunk-HC23LRS7.mjs";import"./chunk-JNOS75IN.mjs";import"./chunk-DKQAZ6TZ.mjs";import{a as y}from"./chunk-P7RWWCBA.mjs";import"./chunk-L3ITFPK6.mjs";import"./chunk-7B72XMTE.mjs";import{b as x}from"./chunk-TDB3B7XP.mjs";import{a as m}from"./chunk-UK34CG32.mjs";import"./chunk-UYSUDYEZ.mjs";import{e as B}from"./chunk-SAXPEPMR.mjs";import"./chunk-IV76L2RG.mjs";import"./chunk-HXKEOFIU.mjs";import"./chunk-UGNKHL6U.mjs";import"./chunk-UI4PXNVK.mjs";import"./chunk-4CI2YZJN.mjs";import"./chunk-7JYYQ2KV.mjs";import"./chunk-YFDK4DGQ.mjs";import{Cd as l,Jb as f,Lb as g,Qb as o,Rb as s,Sb as d,Tb as c,Xa as u,a as b,ab as a,ea as i,gc as p,rb as h,uc as _,vc as v}from"./chunk-EYQ2IV36.mjs";import"./chunk-S6KH3LOX.mjs";function w(e,P){if(e&1&&c(0,"img",4),e&2){let t=p();o("src",t.brand.brand_banner&&t.brand.brand_banner.original_url,u)}}function S(e,P){if(e&1&&(s(0,"h2"),_(1),d()),e&2){let t=p();a(),v(t.brand.name)}}var G=(()=>{class e{constructor(){this.route=i(B),this.store=i(l),this.product$=i(l).select(x.product),this.brand$=i(l).select(C.selectedBrand),this.breadcrumb={title:"Brand",items:[{label:"Collections",active:!1}]},this.layout="collection_category_slider",this.skeleton=!0,this.filter={page:1,paginate:40,brand:""},this.totalItems=0,this.subscriptions=new b}ngOnInit(){this.subscriptions.add(this.brand$.subscribe(t=>{this.brand=t,this.updateBreadcrumb(),this.updateFilterAndFetchProducts()})),this.filter.brand=this.route.snapshot.paramMap.get("slug"),this.store.dispatch(new m(this.filter))}ngOnDestroy(){this.subscriptions.unsubscribe()}updateBreadcrumb(){this.breadcrumb.title=`Brand: ${this.brand?.name}`,this.breadcrumb.items[0].label=this.brand?.name}updateFilterAndFetchProducts(){this.brand&&(this.filter.brand=this.brand.slug),this.store.dispatch(new m(this.filter))}changePage(t){this.filter.page=t,this.updateFilterAndFetchProducts()}changePaginate(t){this.filter.paginate=t,this.updateFilterAndFetchProducts()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-brand"]],decls:13,vars:4,consts:[[3,"breadcrumb"],[1,"brand-section"],[1,"container"],[1,"brand-box"],["alt","img",1,"img-fluid","w-100",3,"src"],[1,"section-b-space","brand-product-box-section"],[1,"collection-wrapper"],[1,"row"],[1,"col-sm-12"],[1,"collection-product-wrapper"],[3,"filter","gridCol"]],template:function(r,n){r&1&&(c(0,"app-breadcrumb",0),s(1,"section",1)(2,"div",2)(3,"div",3),f(4,w,1,1,"img",4)(5,S,2,1,"h2"),d()()(),s(6,"section",5)(7,"div",6)(8,"div",2)(9,"div",7)(10,"div",8)(11,"div",9),c(12,"app-collection-products",10),d()()()()()()),r&2&&(o("breadcrumb",n.breadcrumb),a(4),g(n.brand.brand_banner&&n.brand.brand_banner.original_url?4:5),a(8),o("filter",n.filter)("gridCol","collection_4_grid"))},dependencies:[y,F],encapsulation:2})}}return e})();export{G as Brand};
