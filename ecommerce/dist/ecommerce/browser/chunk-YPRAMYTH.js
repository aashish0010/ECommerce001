import{a as w}from"./chunk-XBPV4G5P.js";import{m,n as f,o as h}from"./chunk-HS6BDBTJ.js";import{A as p}from"./chunk-QOHFTPSE.js";import{X as l,ca as n,ha as i,i as o}from"./chunk-63KUFEGV.js";var d=(()=>{class e{static{this.type="[Point] Transaction Get"}constructor(a){this.payload=a}}return e})();var u=(()=>{class e{constructor(){this.http=i(p)}getUserTransaction(a){return this.http.get(`${w.URL}/wallet.json`,{params:a})}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var s=class c{constructor(){this.walletService=i(u)}static wallet(r){return r.wallet}getUserTransactions(r,{payload:a}){return this.walletService.getUserTransaction(a).pipe(l({next:t=>{r.patchState({wallet:{balance:t?.balance,transactions:{data:t?.transactions?.data,total:t?.transactions?.total?t?.transactions?.total:t?.transactions?.data?.length}}})},error:t=>{throw r.patchState({wallet:{balance:0,transactions:{data:[],total:0}}}),new Error(t?.error?.message)}}))}static{this.\u0275fac=function(a){return new(a||c)}}static{this.\u0275prov=n({token:c,factory:c.\u0275fac})}};o([m(d)],s.prototype,"getUserTransactions",null);o([h()],s,"wallet",null);s=o([f({name:"wallet",defaults:{wallet:{balance:0,transactions:{data:[],total:0}}}})],s);export{d as a,s as b};
