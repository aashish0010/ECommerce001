{
  "version": 3,
  "sources": ["src/app/core/guard/checkout.guard.ts", "src/app/shared/resolver/brand.resolver.ts", "src/app/shared/resolver/category.resolver.ts", "src/app/shared/resolver/product.resolver.ts", "src/app/components/shop/shop.routes.ts"],
  "sourcesContent": ["import { inject, Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\nimport { Store } from '@ngxs/store';\n\nimport { AuthService } from '../../shared/services/auth.service';\nimport { GetUserDetailsAction } from '../../shared/store/action/account.action';\nimport { AccountState } from '../../shared/store/state/account.state';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CheckoutGuard {\n  private store = inject(Store);\n  private authService = inject(AuthService);\n\n  canActivate(_route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    const token = this.store.selectSnapshot((s) => s.auth?.access_token);\n\n    if (!token) {\n      // Not logged in â€” store the attempted URL, trigger the login modal\n      this.authService.redirectUrl = state.url;\n      this.authService.isLogin = true;\n      return false;\n    }\n\n    // Fetch user data if not already in state\n    const user = this.store.selectSnapshot(AccountState.user);\n    if (!user) {\n      this.store.dispatch(new GetUserDetailsAction());\n    }\n\n    return true;\n  }\n}\n", "import { inject } from '@angular/core';\nimport { ResolveFn } from '@angular/router';\n\nimport { Store } from '@ngxs/store';\nimport { Observable } from 'rxjs';\n\nimport { GetBrandBySlugAction } from '../store/action/brand.action';\n\nexport const BrandResolver: ResolveFn<Observable<unknown>> = (route, _state) => {\n  const store = inject(Store);\n  const slug = route.paramMap.get('slug');\n\n  if (!slug) {\n    throw new Error('Slug parameter is missing');\n  }\n\n  return store.dispatch(new GetBrandBySlugAction(slug));\n};\n", "import { inject } from '@angular/core';\nimport { ResolveFn } from '@angular/router';\n\nimport { Store } from '@ngxs/store';\nimport { Observable } from 'rxjs';\n\nimport { GetCategoryBySlugAction } from '../store/action/category.action';\n\nexport const CategoryResolver: ResolveFn<Observable<unknown>> = (route, _state) => {\n  const store = inject(Store);\n  const slug = route.paramMap.get('slug');\n\n  if (!slug) {\n    throw new Error('Slug parameter is missing');\n  }\n\n  return store.dispatch(new GetCategoryBySlugAction(slug));\n};\n", "import { inject } from '@angular/core';\nimport { ResolveFn } from '@angular/router';\n\nimport { Store } from '@ngxs/store';\nimport { Observable } from 'rxjs';\n\nimport { GetProductBySlugAction } from '../store/action/product.action';\n\nexport const ProductResolver: ResolveFn<Observable<unknown>> = (route, _state) => {\n  const store = inject(Store);\n  const slug = route.paramMap.get('slug');\n\n  if (!slug) {\n    throw new Error('Slug parameter is missing');\n  }\n\n  return store.dispatch(new GetProductBySlugAction(slug));\n};\n", "import { Routes } from '@angular/router';\n\nimport { AuthGuard } from '../../core/guard/auth.guard';\nimport { CheckoutGuard } from '../../core/guard/checkout.guard';\nimport { BrandResolver } from '../../shared/resolver/brand.resolver';\nimport { CategoryResolver } from '../../shared/resolver/category.resolver';\nimport { ProductResolver } from '../../shared/resolver/product.resolver';\n\nexport const shop: Routes = [\n  {\n    path: 'cart',\n    loadComponent: () => import('./cart/cart').then(m => m.Cart),\n  },\n  {\n    path: 'collections',\n    loadComponent: () => import('./collection/collection').then(m => m.Collection),\n  },\n  {\n    path: 'product/:slug',\n    loadComponent: () => import('./product/product').then(m => m.Product),\n    resolve: {\n      data: ProductResolver,\n    },\n  },\n  {\n    path: 'wishlist',\n    loadComponent: () => import('./wishlist/wishlist').then(m => m.Wishlist),\n    canActivate: [AuthGuard],\n  },\n  {\n    path: 'compare',\n    loadComponent: () => import('./compare/compare').then(m => m.Compare),\n    canActivate: [AuthGuard],\n  },\n  {\n    path: 'checkout',\n    loadComponent: () => import('./checkout/checkout').then(m => m.Checkout),\n    canActivate: [CheckoutGuard],\n  },\n  {\n    path: 'order/tracking',\n    loadComponent: () => import('./order-tracking/order-tracking').then(m => m.OrderTracking),\n  },\n  {\n    path: 'order/details',\n    loadComponent: () => import('./order-details/order-details').then(m => m.OrderDetails),\n  },\n  {\n    path: 'brand/:slug',\n    loadComponent: () => import('./brand/brand').then(m => m.Brand),\n    resolve: {\n      data: BrandResolver,\n    },\n  },\n  {\n    path: 'category/:slug',\n    loadComponent: () => import('./category/category').then(m => m.Category),\n    resolve: {\n      data: CategoryResolver,\n    },\n  },\n];\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYM,IAAO,gBAAP,MAAO,eAAa;EAH1B,cAAA;AAIU,SAAA,QAAQ,OAAO,KAAK;AACpB,SAAA,cAAc,OAAO,WAAW;;EAExC,YAAY,QAAgC,OAA0B;AACpE,UAAM,QAAQ,KAAK,MAAM,eAAe,CAAC,MAAM,EAAE,MAAM,YAAY;AAEnE,QAAI,CAAC,OAAO;AAEV,WAAK,YAAY,cAAc,MAAM;AACrC,WAAK,YAAY,UAAU;AAC3B,aAAO;IACT;AAGA,UAAM,OAAO,KAAK,MAAM,eAAe,aAAa,IAAI;AACxD,QAAI,CAAC,MAAM;AACT,WAAK,MAAM,SAAS,IAAI,qBAAoB,CAAE;IAChD;AAEA,WAAO;EACT;;;uCArBW,gBAAa;IAAA;EAAA;;4EAAb,gBAAa,SAAb,eAAa,WAAA,YAFZ,OAAM,CAAA;EAAA;;;sEAEP,eAAa,CAAA;UAHzB;WAAW;MACV,YAAY;KACb;;;;;ACHM,IAAM,gBAAgD,CAAC,OAAO,WAAU;AAC7E,QAAM,QAAQ,OAAO,KAAK;AAC1B,QAAM,OAAO,MAAM,SAAS,IAAI,MAAM;AAEtC,MAAI,CAAC,MAAM;AACT,UAAM,IAAI,MAAM,2BAA2B;EAC7C;AAEA,SAAO,MAAM,SAAS,IAAI,qBAAqB,IAAI,CAAC;AACtD;;;ACTO,IAAM,mBAAmD,CAAC,OAAO,WAAU;AAChF,QAAM,QAAQ,OAAO,KAAK;AAC1B,QAAM,OAAO,MAAM,SAAS,IAAI,MAAM;AAEtC,MAAI,CAAC,MAAM;AACT,UAAM,IAAI,MAAM,2BAA2B;EAC7C;AAEA,SAAO,MAAM,SAAS,IAAI,wBAAwB,IAAI,CAAC;AACzD;;;ACTO,IAAM,kBAAkD,CAAC,OAAO,WAAU;AAC/E,QAAM,QAAQ,OAAO,KAAK;AAC1B,QAAM,OAAO,MAAM,SAAS,IAAI,MAAM;AAEtC,MAAI,CAAC,MAAM;AACT,UAAM,IAAI,MAAM,2BAA2B;EAC7C;AAEA,SAAO,MAAM,SAAS,IAAI,uBAAuB,IAAI,CAAC;AACxD;;;ACTO,IAAM,OAAe;EAC1B;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAAa,EAAE,KAAK,OAAK,EAAE,IAAI;;EAE7D;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAAyB,EAAE,KAAK,OAAK,EAAE,UAAU;;EAE/E;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAAmB,EAAE,KAAK,OAAK,EAAE,OAAO;IACpE,SAAS;MACP,MAAM;;;EAGV;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAAqB,EAAE,KAAK,OAAK,EAAE,QAAQ;IACvE,aAAa,CAAC,SAAS;;EAEzB;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAAmB,EAAE,KAAK,OAAK,EAAE,OAAO;IACpE,aAAa,CAAC,SAAS;;EAEzB;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAAqB,EAAE,KAAK,OAAK,EAAE,QAAQ;IACvE,aAAa,CAAC,aAAa;;EAE7B;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAAiC,EAAE,KAAK,OAAK,EAAE,aAAa;;EAE1F;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAA+B,EAAE,KAAK,OAAK,EAAE,YAAY;;EAEvF;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAAe,EAAE,KAAK,OAAK,EAAE,KAAK;IAC9D,SAAS;MACP,MAAM;;;EAGV;IACE,MAAM;IACN,eAAe,MAAM,OAAO,qBAAqB,EAAE,KAAK,OAAK,EAAE,QAAQ;IACvE,SAAS;MACP,MAAM;;;;",
  "names": []
}
