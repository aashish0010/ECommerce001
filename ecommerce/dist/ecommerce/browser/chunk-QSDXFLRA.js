import{g as m}from"./chunk-NLS3CEED.js";import{a as B}from"./chunk-XBPV4G5P.js";import{m as g,n as S,o as n}from"./chunk-HS6BDBTJ.js";import{A as h}from"./chunk-QOHFTPSE.js";import{X as c,ca as i,ha as a,i as l}from"./chunk-63KUFEGV.js";import{a as u,b as d}from"./chunk-4CLCTAJ7.js";var f=(()=>{class r{static{this.type="[Blog] Get"}constructor(t){this.payload=t}}return r})(),y=(()=>{class r{static{this.type="[Blog] By Slug"}constructor(t){this.slug=t}}return r})(),b=(()=>{class r{static{this.type="[Blog] By Recent"}constructor(t){this.payload=t}}return r})(),v=(()=>{class r{static{this.type="[Blog] Selected"}constructor(t){this.payload=t}}return r})();var A=(()=>{class r{constructor(){this.http=a(h),this.skeletonLoader=!1}getBlogs(t){return this.http.get(`${B.URL}/blog.json`,{params:t})}getBlogBySlug(t){return this.http.get(`${B.URL}/blog/slug/${t}`)}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var s=class p{constructor(){this.router=a(m),this.blogService=a(A)}static blog(o){return o.blog}static selectedBlog(o){return o.selectedBlog}static resentBlog(o){return o.recentBlog}static selectedBlogs(o){return o.selectedBlogs}getBlogs(o,t){return this.blogService.skeletonLoader=!0,this.blogService.getBlogs(t.payload).pipe(c({next:e=>{o.patchState({blog:{data:e.data,total:e?.total?e?.total:e.data?.length}})},complete:()=>{this.blogService.skeletonLoader=!1},error:e=>{throw new Error(e?.error?.message)}}))}getBlogBySlug(o,{slug:t}){return this.blogService.getBlogs().pipe(c({next:e=>{if(e&&e.data){let G=o.getState(),w=e.data.find(x=>x.slug==t);o.patchState(d(u({},G),{selectedBlog:w}))}},error:e=>{throw this.router.navigate(["/404"]),new Error(e?.error?.message)}}))}getRecentBlogs(o,t){return this.blogService.getBlogs(t.payload).pipe(c({next:e=>{o.patchState({recentBlog:e.data})},error:e=>{throw new Error(e?.error?.message)}}))}getSelectedBlogs(o,t){return this.blogService.getBlogs(t.payload).pipe(c({next:e=>{o.patchState({selectedBlogs:e.data})},error:e=>{throw new Error(e?.error?.message)}}))}static{this.\u0275fac=function(t){return new(t||p)}}static{this.\u0275prov=i({token:p,factory:p.\u0275fac})}};l([g(f)],s.prototype,"getBlogs",null);l([g(y)],s.prototype,"getBlogBySlug",null);l([g(b)],s.prototype,"getRecentBlogs",null);l([g(v)],s.prototype,"getSelectedBlogs",null);l([n()],s,"blog",null);l([n()],s,"selectedBlog",null);l([n()],s,"resentBlog",null);l([n()],s,"selectedBlogs",null);s=l([S({name:"blog",defaults:{blog:{data:[],total:0},selectedBlog:null,recentBlog:[],selectedBlogs:[]}})],s);export{A as a,f as b,v as c,s as d};
