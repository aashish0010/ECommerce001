{
  "version": 3,
  "sources": ["src/app/shared/store/action/theme.action.ts", "src/app/shared/services/theme.service.ts", "src/app/shared/store/state/theme.state.ts"],
  "sourcesContent": ["export class GetAllThemesAction {\n  static readonly type = '[Themes] Get';\n}\n\nexport class GetThemesAction {\n  static readonly type = '[Themes] Get';\n}\n\nexport class GetHomePageAction {\n  static readonly type = '[Home Page] Get';\n  constructor(public slug?: string) {}\n}\n", "import { HttpClient } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\n\nimport { Observable } from 'rxjs';\n\nimport { environment } from '../../../environments/environment';\nimport { IThemesModel } from '../interface/theme.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ThemeService {\n  private http = inject(HttpClient);\n\n  getThemes(): Observable<IThemesModel> {\n    return this.http.get<IThemesModel>(`${environment.URL}/theme.json`);\n  }\n\n  getHomePage(slug?: string): Observable<any> {\n    return this.http.get(`${environment.URL}/home/${slug}.json`);\n  }\n}\n", "import { Injectable, inject } from '@angular/core';\n\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { tap } from 'rxjs';\n\nimport { IThemes } from '../../interface/theme.interface';\nimport { ThemeOptionService } from '../../services/theme-option.service';\nimport { ThemeService } from '../../services/theme.service';\nimport { GetAllThemesAction, GetHomePageAction, GetThemesAction } from '../action/theme.action';\n\nexport class ThemesStateModel {\n  homePage: object | null;\n  activeTheme: string;\n  themes = {\n    data: [] as IThemes[],\n  };\n}\n\n@State<ThemesStateModel>({\n  name: 'theme',\n  defaults: {\n    homePage: null,\n    activeTheme: '',\n    themes: {\n      data: [],\n    },\n  },\n})\n@Injectable()\nexport class ThemeState {\n  private themeOptionService = inject(ThemeOptionService);\n  private themeService = inject(ThemeService);\n\n  @Selector()\n  static themes(state: ThemesStateModel) {\n    return state.themes;\n  }\n\n  @Selector()\n  static homePage(state: ThemesStateModel) {\n    return state.homePage;\n  }\n\n  @Selector()\n  static activeTheme(state: ThemesStateModel) {\n    return state.activeTheme;\n  }\n\n  @Action(GetAllThemesAction)\n  getAllThemes(ctx: StateContext<ThemesStateModel>) {\n    return this.themeService.getThemes().pipe(\n      tap({\n        next: result => {\n          ctx.patchState({\n            themes: {\n              data: result.data,\n            },\n          });\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n\n  @Action(GetThemesAction)\n  getThemes(ctx: StateContext<ThemesStateModel>) {\n    return this.themeService.getThemes().pipe(\n      tap({\n        next: result => {\n          var activeTheme: string = '';\n          result.data?.map(theme => {\n            if (theme.status === 1) {\n              activeTheme = theme.slug;\n            }\n          });\n\n          ctx.patchState({\n            homePage: result,\n            activeTheme: activeTheme,\n          });\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n\n  @Action(GetHomePageAction)\n  getHomePage(ctx: StateContext<ThemesStateModel>, action: GetHomePageAction) {\n    // this.themeOptionService.preloader = true;\n    return this.themeService.getHomePage(action?.slug).pipe(\n      tap({\n        next: result => {\n          ctx.patchState({\n            homePage: result,\n          });\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n        complete: () => {\n          // this.themeOptionService.preloader = false;\n        },\n      }),\n    );\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAO,qBAAP,MAAyB;;AACb,SAAA,OAAO;EAAe;;AAGlC,IAAO,kBAAP,MAAsB;;AACV,SAAA,OAAO;EAAe;;AAGlC,IAAO,oBAAP,MAAwB;;AACZ,SAAA,OAAO;EAAkB;EACzC,YAAmB,MAAa;AAAb,SAAA,OAAA;EAAgB;;;;ACC/B,IAAO,eAAP,MAAO,cAAY;EAHzB,cAAA;AAIU,SAAA,OAAO,OAAO,UAAU;;EAEhC,YAAS;AACP,WAAO,KAAK,KAAK,IAAkB,GAAG,YAAY,GAAG,aAAa;EACpE;EAEA,YAAY,MAAa;AACvB,WAAO,KAAK,KAAK,IAAI,GAAG,YAAY,GAAG,SAAS,IAAI,OAAO;EAC7D;;;uCATW,eAAY;IAAA;EAAA;;4EAAZ,eAAY,SAAZ,cAAY,WAAA,YAFX,OAAM,CAAA;EAAA;;;sEAEP,cAAY,CAAA;UAHxB;WAAW;MACV,YAAY;KACb;;;;;ACmBM,IAAM,aAAN,MAAMA,YAAU;EAAhB,cAAA;AACG,SAAA,qBAAqB,OAAO,kBAAkB;AAC9C,SAAA,eAAe,OAAO,YAAY;;EAG1C,OAAO,OAAO,OAAuB;AACnC,WAAO,MAAM;EACf;EAGA,OAAO,SAAS,OAAuB;AACrC,WAAO,MAAM;EACf;EAGA,OAAO,YAAY,OAAuB;AACxC,WAAO,MAAM;EACf;EAGA,aAAa,KAAmC;AAC9C,WAAO,KAAK,aAAa,UAAS,EAAG,KACnC,IAAI;MACF,MAAM,YAAS;AACb,YAAI,WAAW;UACb,QAAQ;YACN,MAAM,OAAO;;SAEhB;MACH;MACA,OAAO,SAAM;AACX,cAAM,IAAI,MAAM,KAAK,OAAO,OAAO;MACrC;KACD,CAAC;EAEN;EAGA,UAAU,KAAmC;AAC3C,WAAO,KAAK,aAAa,UAAS,EAAG,KACnC,IAAI;MACF,MAAM,YAAS;AACb,YAAI,cAAsB;AAC1B,eAAO,MAAM,IAAI,WAAQ;AACvB,cAAI,MAAM,WAAW,GAAG;AACtB,0BAAc,MAAM;UACtB;QACF,CAAC;AAED,YAAI,WAAW;UACb,UAAU;UACV;SACD;MACH;MACA,OAAO,SAAM;AACX,cAAM,IAAI,MAAM,KAAK,OAAO,OAAO;MACrC;KACD,CAAC;EAEN;EAGA,YAAY,KAAqC,QAAyB;AAExE,WAAO,KAAK,aAAa,YAAY,QAAQ,IAAI,EAAE,KACjD,IAAI;MACF,MAAM,YAAS;AACb,YAAI,WAAW;UACb,UAAU;SACX;MACH;MACA,OAAO,SAAM;AACX,cAAM,IAAI,MAAM,KAAK,OAAO,OAAO;MACrC;MACA,UAAU,MAAK;MAEf;KACD,CAAC;EAEN;;;uCA/EWA,aAAU;IAAA;EAAA;;4EAAVA,aAAU,SAAVA,YAAU,UAAA,CAAA;EAAA;;AAoBrB,WAAA;EADC,OAAO,kBAAkB;;AAmB1B,WAAA;EADC,OAAO,eAAe;;AAyBvB,WAAA;EADC,OAAO,iBAAiB;;AAxDlB,WAAA;EADN,SAAQ;;AAMF,WAAA;EADN,SAAQ;;AAMF,WAAA;EADN,SAAQ;;AAdE,aAAU,WAAA;EAXtB,MAAwB;IACvB,MAAM;IACN,UAAU;MACR,UAAU;MACV,aAAa;MACb,QAAQ;QACN,MAAM,CAAA;;;GAGX;GAEY,UAAU;;sEAAV,YAAU,CAAA;UADtB;;;",
  "names": ["ThemeState"]
}
