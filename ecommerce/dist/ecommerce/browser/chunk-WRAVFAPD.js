import{a as S,b as P,c as y,d as v}from"./chunk-C7J6EAV4.js";import{A as m,E as l}from"./chunk-KTUN43P2.js";import{$ as c,U as i,ea as p,g as r,qd as n,rd as u,sd as g}from"./chunk-XZ37OMXB.js";import{a as d,b as h}from"./chunk-4CLCTAJ7.js";var q=(()=>{class s{constructor(){this.http=p(m),this.skeletonLoader=!1}getPages(t){return this.http.get(`${l.URL}/page.json`,{params:t})}getFaqs(){return this.http.get(`${l.URL}/faq.json`)}getStores(t){return this.http.get(`${l.URL}/store`,{params:t})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var o=class f{constructor(){this.pageService=p(q)}static page(e){return e.page}static faq(e){return e.faq}static selectedPage(e){return e.selectedPage}getPages(e,t){return this.pageService.getPages(t.payload).pipe(i({next:a=>{e.patchState({page:{data:a.data,total:a?.total?a?.total:a.data?.length}})},error:a=>{throw new Error(a?.error?.message)}}))}getPageBySlug(e,{slug:t}){return this.pageService.skeletonLoader=!0,this.pageService.getPages().pipe(i({next:a=>{if(a&&a.data){let j=e.getState(),w=a.data.find(L=>L.slug==t);e.patchState(h(d({},j),{selectedPage:w}))}},complete:()=>{this.pageService.skeletonLoader=!1},error:a=>{throw new Error(a?.error?.message)}}))}getFaqs(e){return this.pageService.skeletonLoader=!0,this.pageService.getFaqs().pipe(i({next:t=>{e.patchState({faq:{data:t.data,total:t?.total?t?.total:t.data?.length}})},complete:()=>{this.pageService.skeletonLoader=!1},error:t=>{throw new Error(t?.error?.message)}}))}contactUs(e,{payload:t}){}static{this.\u0275fac=function(t){return new(t||f)}}static{this.\u0275prov=c({token:f,factory:f.\u0275fac})}};r([n(S)],o.prototype,"getPages",null);r([n(P)],o.prototype,"getPageBySlug",null);r([n(y)],o.prototype,"getFaqs",null);r([n(v)],o.prototype,"contactUs",null);r([g()],o,"page",null);r([g()],o,"faq",null);r([g()],o,"selectedPage",null);o=r([u({name:"page",defaults:{page:{data:[],total:0},faq:{data:[],total:0},selectedPage:null}})],o);export{q as a,o as b};
