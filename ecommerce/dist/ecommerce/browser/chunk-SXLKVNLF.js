import{a as X}from"./chunk-IOYD2BIT.js";import{a as Q,b as W}from"./chunk-KB4IY7G5.js";import{d as J,e as K}from"./chunk-G4D7MTQY.js";import{a as L}from"./chunk-PPJSDG6Y.js";import{m as U}from"./chunk-6YNXOXNU.js";import{c as V,d as u,f as k,g as F,j as c,l as D,q as G,r as R,t as j,u as O,v as P}from"./chunk-BZPQ2CAT.js";import{c as z,d as H}from"./chunk-3YW7ZYO3.js";import{k as $}from"./chunk-HS6BDBTJ.js";import{Ic as h,Jc as N,Lb as _,Nb as v,Qc as o,Rc as a,Sb as s,Tb as r,Ub as t,Uc as T,Vb as m,bc as I,cb as e,gc as B,ha as S,oa as E,pa as x,rc as q,tb as M,vc as y,wc as d,xc as p,yc as A,zb as w}from"./chunk-63KUFEGV.js";function Y(i,f){i&1&&(r(0,"div",12),d(1),o(2,"translate"),t()),i&2&&(e(),p(a(2,1,"title_is_required")))}function Z(i,f){i&1&&(r(0,"div",12),d(1),o(2,"translate"),t()),i&2&&(e(),p(a(2,1,"street_address_is_required")))}function ee(i,f){i&1&&(r(0,"div",12),d(1),o(2,"translate"),t()),i&2&&(e(),p(a(2,1,"city_is_required")))}function te(i,f){i&1&&(r(0,"div",12),d(1),o(2,"translate"),t()),i&2&&(e(),p(a(2,1,"pincode_is_required")))}function ie(i,f){if(i&1&&(r(0,"div",32)(1,"div",33),m(2,"div"),t(),r(3,"span",34),d(4),t()()),i&2){let l=f.data;e(2),y(N("iti-flag ",l==null?null:l.class)),e(2),p(l==null?null:l.code)}}function ne(i,f){i&1&&(r(0,"div",12),d(1),o(2,"translate"),t()),i&2&&(e(),p(a(2,1,"phone_number_is_required")))}function re(i,f){i&1&&(r(0,"div",12),d(1),o(2,"translate"),t()),i&2&&(e(),p(a(2,1,"phone_number_is_invalid")))}var Ce=(()=>{class i{constructor(){this.modal=S(U),this.store=S($),this.formBuilder=S(j),this.codes=X,this.form=this.formBuilder.group({title:new c("",[u.required]),street:new c("",[u.required]),country_name:new c(""),state_name:new c(""),city:new c("",[u.required]),pincode:new c("",[u.required]),country_code:new c("977",[u.required]),phone:new c("",[u.required,u.pattern(/^[0-9]*$/)])})}ngOnInit(){this.userAddress&&this.patchForm(this.userAddress)}patchForm(l){this.address=l,this.form.patchValue({title:l.title,street:l.street,country_name:l.country_name??"",state_name:l.state_name??"",city:l.city,pincode:l.pincode,country_code:l.country_code??"977",phone:String(l.phone??"")})}submit(){if(this.form.markAllAsTouched(),!this.form.valid)return;let l=this.address?new K(this.form.value,this.address.id):new J(this.form.value);this.store.dispatch(l).subscribe({complete:()=>this.modal.close("saved")})}static{this.\u0275fac=function(C){return new(C||i)}}static{this.\u0275cmp=M({type:i,selectors:[["app-address-modal"]],inputs:{userAddress:"userAddress"},decls:72,vars:71,consts:[["template",""],[1,"modal-header"],[1,"fw-semibold"],[3,"click","spinner","id"],[1,"ri-close-line"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"row","g-sm-4","g-2"],[1,"col-12"],[1,"form-box"],["for","addr-title",1,"form-label"],["id","addr-title","type","text","formControlName","title",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],["for","addr-street",1,"form-label"],["id","addr-street","type","text","formControlName","street",1,"form-control",3,"placeholder"],[1,"col-sm-6"],["for","addr-country",1,"form-label"],["id","addr-country","type","text","placeholder","e.g. Nepal","formControlName","country_name",1,"form-control"],["for","addr-state",1,"form-label"],["id","addr-state","type","text","placeholder","e.g. Bagmati","formControlName","state_name",1,"form-control"],["for","addr-city",1,"form-label"],["id","addr-city","type","text","formControlName","city",1,"form-control",3,"placeholder"],["for","addr-pincode",1,"form-label"],["id","addr-pincode","type","text","formControlName","pincode",1,"form-control",3,"placeholder"],[1,"col-12","phone-field"],[1,"form-box","position-relative"],["for","addr-phone",1,"form-label"],["formControlName","country_code",1,"custom-select","intl-tel-input",3,"templates","data"],["type","tel","id","addr-phone","formControlName","phone","name","addr-phone",1,"form-control","intl-input-padding",3,"placeholder"],[1,"modal-footer"],[3,"click","type","spinner","id"],[3,"id"],[1,"country"],[1,"flag-box"],[1,"dial-code"]],template:function(C,n){if(C&1){let b=I();r(0,"div",1)(1,"h3",2),d(2),o(3,"translate"),t(),r(4,"app-button",3),B("click",function(){return E(b),x(n.modal.close("Cross click"))}),m(5,"i",4),t()(),r(6,"form",5),B("ngSubmit",function(){return E(b),x(n.submit())}),r(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),d(12),o(13,"translate"),t(),m(14,"input",11),o(15,"translate"),_(16,Y,3,3,"div",12),t()(),r(17,"div",8)(18,"div",9)(19,"label",13),d(20),o(21,"translate"),t(),m(22,"input",14),o(23,"translate"),_(24,Z,3,3,"div",12),t()(),r(25,"div",15)(26,"div",9)(27,"label",16),d(28),o(29,"translate"),t(),m(30,"input",17),t()(),r(31,"div",15)(32,"div",9)(33,"label",18),d(34),o(35,"translate"),t(),m(36,"input",19),t()(),r(37,"div",15)(38,"div",9)(39,"label",20),d(40),o(41,"translate"),t(),m(42,"input",21),o(43,"translate"),_(44,ee,3,3,"div",12),t()(),r(45,"div",15)(46,"div",9)(47,"label",22),d(48),o(49,"translate"),t(),m(50,"input",23),o(51,"translate"),_(52,te,3,3,"div",12),t()(),r(53,"div",24)(54,"div",25)(55,"label",26),d(56),o(57,"translate"),t(),r(58,"select2",27),w(59,ie,5,4,"ng-template",null,0,T),t(),m(61,"input",28),o(62,"translate"),t(),_(63,ne,3,3,"div",12),_(64,re,3,3,"div",12),t()(),r(65,"div",29)(66,"app-button",30),B("click",function(){return E(b),x(n.modal.close("Cancel"))}),d(67),o(68,"translate"),t(),r(69,"app-button",31),d(70),o(71,"translate"),t()()()()}if(C&2){let b=q(60);e(2),p(a(3,41,n.address?"edit_address":"add_address")),e(2),y("btn btn-close"),s("spinner",!1)("id","address_modal_close_btn"),e(2),s("formGroup",n.form),e(6),p(a(13,43,"title")),e(2),s("placeholder",h(a(15,45,"enter_title"))),e(2),v(n.form.controls.title.touched&&(n.form.controls.title.errors!=null&&n.form.controls.title.errors.required)?16:-1),e(4),p(a(21,47,"address")),e(2),s("placeholder",h(a(23,49,"enter_address"))),e(2),v(n.form.controls.street.touched&&(n.form.controls.street.errors!=null&&n.form.controls.street.errors.required)?24:-1),e(4),p(a(29,51,"country")),e(6),p(a(35,53,"state")),e(6),p(a(41,55,"city")),e(2),s("placeholder",h(a(43,57,"enter_city"))),e(2),v(n.form.controls.city.touched&&(n.form.controls.city.errors!=null&&n.form.controls.city.errors.required)?44:-1),e(4),p(a(49,59,"pincode")),e(2),s("placeholder",h(a(51,61,"enter_pincode"))),e(2),v(n.form.controls.pincode.touched&&(n.form.controls.pincode.errors!=null&&n.form.controls.pincode.errors.required)?52:-1),e(4),p(a(57,63,"phone_number")),e(2),s("templates",b)("data",n.codes),e(3),s("placeholder",h(a(62,65,"enter_phone"))),e(2),v(n.form.controls.phone.touched&&(n.form.controls.phone.errors!=null&&n.form.controls.phone.errors.required)?63:-1),e(),v(n.form.controls.phone.touched&&(n.form.controls.phone.errors!=null&&n.form.controls.phone.errors.pattern)?64:-1),e(2),y("btn btn-outline btn-md fw-bold"),s("type","button")("spinner",!1)("id","cancel_address_btn"),e(),A(" ",a(68,67,"cancel")," "),e(2),y("btn btn-solid"),s("id","submit_address_btn"),e(),A(" ",a(71,69,"submit")," ")}},dependencies:[H,O,D,V,k,F,P,R,G,W,Q,L,z],encapsulation:2})}}return i})();export{Ce as a};
