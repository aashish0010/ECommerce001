{
  "version": 3,
  "sources": ["src/app/shared/store/action/notification.action.ts", "src/app/shared/store/state/notification.state.ts"],
  "sourcesContent": ["import { Params } from '../../interface/core.interface';\n\nexport class GetNotificationAction {\n  static readonly type = '[Notification] Get';\n  constructor(public payload?: Params) {}\n}\n\nexport class MarkAsReadNotificationAction {\n  static readonly type = '[Notification] Mark As Read';\n  constructor() {}\n}\n\nexport class DeleteNotificationAction {\n  static readonly type = '[Notification] Delete';\n  constructor(public id: string) {}\n}\n", "import { Injectable, inject } from '@angular/core';\n\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { tap } from 'rxjs';\n\nimport { INotification } from '../../interface/notification.interface';\nimport { NotificationService } from '../../services/notification.service';\nimport { GetNotificationAction, MarkAsReadNotificationAction } from '../action/notification.action';\n\nexport class NotificationStateModel {\n  notification = {\n    data: [] as INotification[],\n    total: 0,\n  };\n}\n\n@State<NotificationStateModel>({\n  name: 'notification',\n  defaults: {\n    notification: {\n      data: [],\n      total: 0,\n    },\n  },\n})\n@Injectable()\nexport class NotificationState {\n  private notificationService = inject(NotificationService);\n\n  @Selector()\n  static notification(state: NotificationStateModel) {\n    return state.notification.data;\n  }\n\n  @Action(GetNotificationAction)\n  getNotification(ctx: StateContext<NotificationStateModel>, action: GetNotificationAction) {\n    return this.notificationService.getNotifications(action?.payload).pipe(\n      tap({\n        next: result => {\n          ctx.patchState({\n            notification: {\n              data: result.data,\n              total: result?.total ? result?.total : result.data.length,\n            },\n          });\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n\n  @Action(MarkAsReadNotificationAction)\n  markAsRead(_ctx: StateContext<NotificationStateModel>) {\n    // Notification Mark As Read Logic Here\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;AAEM,IAAO,wBAAP,MAA4B;;AAChB,SAAA,OAAO;EAAqB;EAC5C,YAAmB,SAAgB;AAAhB,SAAA,UAAA;EAAmB;;AAGlC,IAAO,+BAAP,MAAmC;;AACvB,SAAA,OAAO;EAA8B;EACrD,cAAA;EAAe;;AAGX,IAAO,2BAAP,MAA+B;;AACnB,SAAA,OAAO;EAAwB;EAC/C,YAAmB,IAAU;AAAV,SAAA,KAAA;EAAa;;;;ACY3B,IAAM,oBAAN,MAAMA,mBAAiB;EAAvB,cAAA;AACG,SAAA,sBAAsB,OAAO,mBAAmB;;EAGxD,OAAO,aAAa,OAA6B;AAC/C,WAAO,MAAM,aAAa;EAC5B;EAGA,gBAAgB,KAA2C,QAA6B;AACtF,WAAO,KAAK,oBAAoB,iBAAiB,QAAQ,OAAO,EAAE,KAChE,IAAI;MACF,MAAM,YAAS;AACb,YAAI,WAAW;UACb,cAAc;YACZ,MAAM,OAAO;YACb,OAAO,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,KAAK;;SAEtD;MACH;MACA,OAAO,SAAM;AACX,cAAM,IAAI,MAAM,KAAK,OAAO,OAAO;MACrC;KACD,CAAC;EAEN;EAGA,WAAW,MAA0C;EAErD;;;uCA9BWA,oBAAiB;IAAA;EAAA;;4EAAjBA,oBAAiB,SAAjBA,mBAAiB,UAAA,CAAA;EAAA;;AAS5B,WAAA;EADC,OAAO,qBAAqB;;AAoB7B,WAAA;EADC,OAAO,4BAA4B;;AAvB7B,WAAA;EADN,SAAQ;;AAHE,oBAAiB,WAAA;EAV7B,MAA8B;IAC7B,MAAM;IACN,UAAU;MACR,cAAc;QACZ,MAAM,CAAA;QACN,OAAO;;;GAGZ;GAEY,iBAAiB;;sEAAjB,mBAAiB,CAAA;UAD7B;;;",
  "names": ["NotificationState"]
}
