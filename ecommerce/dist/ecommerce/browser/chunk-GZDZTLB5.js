import{a as d}from"./chunk-XBPV4G5P.js";import{m,n as f,o as h}from"./chunk-HS6BDBTJ.js";import{A as l}from"./chunk-QOHFTPSE.js";import{X as p,ca as i,ha as e,i as r}from"./chunk-63KUFEGV.js";var u=(()=>{class o{static{this.type="[Point] Transaction Get"}constructor(a){this.payload=a}}return o})();var b=(()=>{class o{constructor(){this.http=e(l)}getUserTransaction(a){return this.http.get(`${d.URL}/points.json`,{params:a})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var s=class c{constructor(){this.pointService=e(b)}static point(n){return n.point}getUserTransaction(n,{payload:a}){return this.pointService.getUserTransaction(a).pipe(p({next:t=>{n.patchState({point:{balance:t?.balance,transactions:{data:t?.transactions?.data,total:t?.transactions?.total?t?.transactions?.total:t?.transactions?.data?.length}}})},error:t=>{throw n.patchState({point:{balance:0,transactions:{data:[],total:0}}}),new Error(t?.error?.message)}}))}static{this.\u0275fac=function(a){return new(a||c)}}static{this.\u0275prov=i({token:c,factory:c.\u0275fac})}};r([m(u)],s.prototype,"getUserTransaction",null);r([h()],s,"point",null);s=r([f({name:"point",defaults:{point:{balance:0,transactions:{data:[],total:0}}}})],s);export{u as a,s as b};
