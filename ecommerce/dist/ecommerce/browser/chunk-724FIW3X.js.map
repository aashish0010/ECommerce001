{
  "version": 3,
  "sources": ["src/app/shared/store/action/compare.action.ts", "src/app/shared/services/compare.service.ts", "src/app/shared/store/state/compare.state.ts"],
  "sourcesContent": ["import { Params } from '../../interface/core.interface';\n\nexport class GetCompareAction {\n  static readonly type = '[Compare] Get';\n}\n\nexport class AddToCompareAction {\n  static readonly type = '[Compare] post';\n  constructor(public payload: Params) {}\n}\n\nexport class DeleteCompareAction {\n  static readonly type = '[Compare] delete';\n  constructor(public id: number) {}\n}\n", "import { HttpClient } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\n\nimport { Observable } from 'rxjs';\n\nimport { environment } from '../../../environments/environment';\nimport { ICompareModel } from '../interface/compare.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CompareService {\n  private http = inject(HttpClient);\n\n  public skeletonLoader: boolean = false;\n\n  getComparItems(): Observable<ICompareModel> {\n    return this.http.get<ICompareModel>(`${environment.URL}/compare.json`);\n  }\n}\n", "import { Injectable, inject } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { Action, Selector, State, StateContext, Store } from '@ngxs/store';\nimport { tap } from 'rxjs';\n\nimport { IProduct } from '../../interface/product.interface';\nimport { AuthService } from '../../services/auth.service';\nimport { CompareService } from '../../services/compare.service';\nimport { NotificationService } from '../../services/notification.service';\nimport {\n  AddToCompareAction,\n  DeleteCompareAction,\n  GetCompareAction,\n} from '../action/compare.action';\n\nexport class CompareStateModel {\n  items: IProduct[];\n  total: number;\n  comparIds: number[];\n}\n\n@State<CompareStateModel>({\n  name: 'compare',\n  defaults: {\n    items: [],\n    total: 0,\n    comparIds: [],\n  },\n})\n@Injectable()\nexport class CompareState {\n  private store = inject(Store);\n  router = inject(Router);\n  private notificationService = inject(NotificationService);\n  authService = inject(AuthService);\n  private compareService = inject(CompareService);\n\n  @Selector()\n  static compareItems(state: CompareStateModel) {\n    return state.items;\n  }\n\n  @Selector()\n  static compareIds(state: CompareStateModel) {\n    return state.comparIds;\n  }\n\n  @Selector()\n  static compareTotal(state: CompareStateModel) {\n    return state.total;\n  }\n\n  @Action(GetCompareAction)\n  getCompareItems(ctx: StateContext<GetCompareAction>) {\n    if (!this.store.selectSnapshot(state => state.auth && state.auth.access_token)) {\n      return;\n    }\n    this.compareService.skeletonLoader = true;\n    return this.compareService.getComparItems().pipe(\n      tap({\n        next: result => {\n          let ids = result.data.map(product => product.id);\n          ctx.patchState({\n            items: result.data,\n            total: result?.total ? result?.total : result.data?.length,\n            comparIds: ids,\n          });\n        },\n        complete: () => {\n          this.compareService.skeletonLoader = false;\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n\n  @Action(AddToCompareAction)\n  add(_ctx: StateContext<CompareStateModel>, _action: AddToCompareAction) {\n    // Add compare Logic Here\n  }\n\n  @Action(DeleteCompareAction)\n  delete(_ctx: StateContext<CompareStateModel>, { id: _id }: DeleteCompareAction) {\n    // Delete compare Logic Here\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAEM,IAAO,mBAAP,MAAuB;;AACX,SAAA,OAAO;EAAgB;;AAGnC,IAAO,qBAAP,MAAyB;;AACb,SAAA,OAAO;EAAiB;EACxC,YAAmB,SAAe;AAAf,SAAA,UAAA;EAAkB;;AAGjC,IAAO,sBAAP,MAA0B;;AACd,SAAA,OAAO;EAAmB;EAC1C,YAAmB,IAAU;AAAV,SAAA,KAAA;EAAa;;;;ACF5B,IAAO,iBAAP,MAAO,gBAAc;EAH3B,cAAA;AAIU,SAAA,OAAO,OAAO,UAAU;AAEzB,SAAA,iBAA0B;;EAEjC,iBAAc;AACZ,WAAO,KAAK,KAAK,IAAmB,GAAG,YAAY,GAAG,eAAe;EACvE;;;uCAPW,iBAAc;IAAA;EAAA;;4EAAd,iBAAc,SAAd,gBAAc,WAAA,YAFb,OAAM,CAAA;EAAA;;;sEAEP,gBAAc,CAAA;UAH1B;WAAW;MACV,YAAY;KACb;;;;;ACqBM,IAAM,eAAN,MAAMA,cAAY;EAAlB,cAAA;AACG,SAAA,QAAQ,OAAO,KAAK;AAC5B,SAAA,SAAS,OAAO,MAAM;AACd,SAAA,sBAAsB,OAAO,mBAAmB;AACxD,SAAA,cAAc,OAAO,WAAW;AACxB,SAAA,iBAAiB,OAAO,cAAc;;EAG9C,OAAO,aAAa,OAAwB;AAC1C,WAAO,MAAM;EACf;EAGA,OAAO,WAAW,OAAwB;AACxC,WAAO,MAAM;EACf;EAGA,OAAO,aAAa,OAAwB;AAC1C,WAAO,MAAM;EACf;EAGA,gBAAgB,KAAmC;AACjD,QAAI,CAAC,KAAK,MAAM,eAAe,WAAS,MAAM,QAAQ,MAAM,KAAK,YAAY,GAAG;AAC9E;IACF;AACA,SAAK,eAAe,iBAAiB;AACrC,WAAO,KAAK,eAAe,eAAc,EAAG,KAC1C,IAAI;MACF,MAAM,YAAS;AACb,YAAI,MAAM,OAAO,KAAK,IAAI,aAAW,QAAQ,EAAE;AAC/C,YAAI,WAAW;UACb,OAAO,OAAO;UACd,OAAO,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,MAAM;UACpD,WAAW;SACZ;MACH;MACA,UAAU,MAAK;AACb,aAAK,eAAe,iBAAiB;MACvC;MACA,OAAO,SAAM;AACX,cAAM,IAAI,MAAM,KAAK,OAAO,OAAO;MACrC;KACD,CAAC;EAEN;EAGA,IAAI,MAAuC,SAA2B;EAEtE;EAGA,OAAO,MAAuC,EAAE,IAAI,IAAG,GAAuB;EAE9E;;;uCAxDWA,eAAY;IAAA;EAAA;;4EAAZA,eAAY,SAAZA,cAAY,UAAA,CAAA;EAAA;;AAuBvB,WAAA;EADC,OAAO,gBAAgB;;AA2BxB,WAAA;EADC,OAAO,kBAAkB;;AAM1B,WAAA;EADC,OAAO,mBAAmB;;AA7CpB,WAAA;EADN,SAAQ;;AAMF,WAAA;EADN,SAAQ;;AAMF,WAAA;EADN,SAAQ;;AAjBE,eAAY,WAAA;EATxB,MAAyB;IACxB,MAAM;IACN,UAAU;MACR,OAAO,CAAA;MACP,OAAO;MACP,WAAW,CAAA;;GAEd;GAEY,YAAY;;sEAAZ,cAAY,CAAA;UADxB;;;",
  "names": ["CompareState"]
}
