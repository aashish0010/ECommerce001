{
  "version": 3,
  "sources": ["src/app/shared/services/page.service.ts", "src/app/shared/store/state/page.state.ts"],
  "sourcesContent": ["import { HttpClient } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\n\nimport { Observable } from 'rxjs';\n\nimport { environment } from '../../../environments/environment';\nimport { Params } from '../interface/core.interface';\nimport { IFaqModel, IPageModel } from '../interface/page.interface';\nimport { IStoresModel } from '../interface/store.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PageService {\n  private http = inject(HttpClient);\n\n  public skeletonLoader: boolean = false;\n\n  getPages(payload?: Params): Observable<IPageModel> {\n    return this.http.get<IPageModel>(`${environment.URL}/page.json`, { params: payload });\n  }\n\n  getFaqs(): Observable<IFaqModel> {\n    return this.http.get<IFaqModel>(`${environment.URL}/faq.json`);\n  }\n\n  getStores(payload?: Params): Observable<IStoresModel> {\n    return this.http.get<IStoresModel>(`${environment.URL}/store`, { params: payload });\n  }\n}\n", "import { Injectable, inject } from '@angular/core';\n\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { tap } from 'rxjs';\n\nimport { IFaq, IPage, IContactUsModel } from '../../interface/page.interface';\nimport { PageService } from '../../services/page.service';\nimport {\n  GetFaqsAction,\n  GetPageBySlugAction,\n  GetPagesAction,\n  ContactUsAction,\n} from '../action/page.action';\n\nexport class PageStateModel {\n  page = {\n    data: [] as IPage[],\n    total: 0,\n  };\n  faq = {\n    data: [] as IFaq[],\n    total: 0,\n  };\n  selectedPage: IPage | null;\n}\n\n@State<PageStateModel>({\n  name: 'page',\n  defaults: {\n    page: {\n      data: [],\n      total: 0,\n    },\n    faq: {\n      data: [],\n      total: 0,\n    },\n    selectedPage: null,\n  },\n})\n@Injectable()\nexport class PageState {\n  private pageService = inject(PageService);\n\n  @Selector()\n  static page(state: PageStateModel) {\n    return state.page;\n  }\n\n  @Selector()\n  static faq(state: PageStateModel) {\n    return state.faq;\n  }\n\n  @Selector()\n  static selectedPage(state: PageStateModel) {\n    return state.selectedPage;\n  }\n\n  @Action(GetPagesAction)\n  getPages(ctx: StateContext<PageStateModel>, action: GetPagesAction) {\n    return this.pageService.getPages(action.payload).pipe(\n      tap({\n        next: result => {\n          ctx.patchState({\n            page: {\n              data: result.data,\n              total: result?.total ? result?.total : result.data?.length,\n            },\n          });\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n\n  @Action(GetPageBySlugAction)\n  getPageBySlug(ctx: StateContext<PageStateModel>, { slug }: GetPageBySlugAction) {\n    this.pageService.skeletonLoader = true;\n    return this.pageService.getPages().pipe(\n      tap({\n        next: results => {\n          if (results && results.data) {\n            const state = ctx.getState();\n            const result = results.data.find(page => page.slug == slug);\n\n            ctx.patchState({\n              ...state,\n              selectedPage: result,\n            });\n          }\n        },\n        complete: () => {\n          this.pageService.skeletonLoader = false;\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n\n  @Action(GetFaqsAction)\n  getFaqs(ctx: StateContext<PageStateModel>) {\n    this.pageService.skeletonLoader = true;\n    return this.pageService.getFaqs().pipe(\n      tap({\n        next: result => {\n          ctx.patchState({\n            faq: {\n              data: result.data,\n              total: result?.total ? result?.total : result.data?.length,\n            },\n          });\n        },\n        complete: () => {\n          this.pageService.skeletonLoader = false;\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n\n  @Action(ContactUsAction)\n  contactUs(_ctx: StateContext<IContactUsModel>, { payload: _payload }: ContactUsAction) {\n    // contact api logic here\n  }\n}\n"],
  "mappings": "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",
  "names": ["PageState"]
}
