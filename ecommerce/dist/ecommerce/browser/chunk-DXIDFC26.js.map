{
  "version": 3,
  "sources": ["src/app/shared/services/auth.service.ts"],
  "sourcesContent": ["import { HttpClient } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\n\nimport { Observable } from 'rxjs';\n\nimport { environment } from '../../../environments/environment';\nimport { IRefreshTokenRequest, IRegisterModal, IVerifyEmailOtpState } from '../interface/auth.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthService {\n  private http = inject(HttpClient);\n\n  public redirectUrl: string | undefined;\n  public confirmed: boolean = false;\n  public isLogin: boolean = false;\n  public pendingRegistration: IRegisterModal | null = null;\n\n  login(payload: { phone: string; password: string }): Observable<any> {\n    return this.http.post(`${environment.baseURL}auth/login`, {\n      userName: payload.phone,\n      password: payload.password,\n    });\n  }\n\n  register(payload: IRegisterModal): Observable<any> {\n    const parts = (payload.name || '').trim().split(/\\s+/).filter(Boolean);\n    const firstName = parts[0] || '';\n    const middleName = parts.length > 2 ? parts.slice(1, -1).join(' ') : '';\n    const lastName = parts.length > 1 ? parts[parts.length - 1] : '';\n\n    return this.http.post(`${environment.baseURL}auth/register`, {\n      userName: String(payload.phone),\n      firstName,\n      middleName,\n      lastName,\n      email: payload.email,\n      phoneNumber: String(payload.phone),\n      password: payload.password,\n      companyCode: environment.companyCode,\n    });\n  }\n\n  sendOtp(email: string): Observable<any> {\n    return this.http.get(`${environment.baseURL}auth/sendopt`, { params: { email } });\n  }\n\n  sendEmailOtp(email: string): Observable<any> {\n    return this.http.get(`${environment.baseURL}auth/sendemailotp`, { params: { email } });\n  }\n\n  verifyEmailOtp(payload: IVerifyEmailOtpState): Observable<any> {\n    return this.http.post(`${environment.baseURL}auth/verifyemail`, {\n      email: payload.email,\n      otp: payload.otp,\n      processId: payload.processId,\n    });\n  }\n\n  verifyOtpAndChangePassword(payload: {\n    email: string;\n    otp: string;\n    processId: string;\n    newPassword: string;\n  }): Observable<any> {\n    return this.http.post(`${environment.baseURL}auth/verifyopt`, {\n      email: payload.email,\n      otp: payload.otp,\n      processId: payload.processId,\n      newPassword: payload.newPassword,\n    });\n  }\n\n  refreshToken(payload: IRefreshTokenRequest): Observable<any> {\n    return this.http.post(`${environment.baseURL}auth/refresh`, payload);\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;AAWM,IAAO,cAAP,MAAO,aAAW;EAHxB,cAAA;AAIU,SAAA,OAAO,OAAO,UAAU;AAGzB,SAAA,YAAqB;AACrB,SAAA,UAAmB;AACnB,SAAA,sBAA6C;;EAEpD,MAAM,SAA4C;AAChD,WAAO,KAAK,KAAK,KAAK,GAAG,YAAY,OAAO,cAAc;MACxD,UAAU,QAAQ;MAClB,UAAU,QAAQ;KACnB;EACH;EAEA,SAAS,SAAuB;AAC9B,UAAM,SAAS,QAAQ,QAAQ,IAAI,KAAI,EAAG,MAAM,KAAK,EAAE,OAAO,OAAO;AACrE,UAAM,YAAY,MAAM,CAAC,KAAK;AAC9B,UAAM,aAAa,MAAM,SAAS,IAAI,MAAM,MAAM,GAAG,EAAE,EAAE,KAAK,GAAG,IAAI;AACrE,UAAM,WAAW,MAAM,SAAS,IAAI,MAAM,MAAM,SAAS,CAAC,IAAI;AAE9D,WAAO,KAAK,KAAK,KAAK,GAAG,YAAY,OAAO,iBAAiB;MAC3D,UAAU,OAAO,QAAQ,KAAK;MAC9B;MACA;MACA;MACA,OAAO,QAAQ;MACf,aAAa,OAAO,QAAQ,KAAK;MACjC,UAAU,QAAQ;MAClB,aAAa,YAAY;KAC1B;EACH;EAEA,QAAQ,OAAa;AACnB,WAAO,KAAK,KAAK,IAAI,GAAG,YAAY,OAAO,gBAAgB,EAAE,QAAQ,EAAE,MAAK,EAAE,CAAE;EAClF;EAEA,aAAa,OAAa;AACxB,WAAO,KAAK,KAAK,IAAI,GAAG,YAAY,OAAO,qBAAqB,EAAE,QAAQ,EAAE,MAAK,EAAE,CAAE;EACvF;EAEA,eAAe,SAA6B;AAC1C,WAAO,KAAK,KAAK,KAAK,GAAG,YAAY,OAAO,oBAAoB;MAC9D,OAAO,QAAQ;MACf,KAAK,QAAQ;MACb,WAAW,QAAQ;KACpB;EACH;EAEA,2BAA2B,SAK1B;AACC,WAAO,KAAK,KAAK,KAAK,GAAG,YAAY,OAAO,kBAAkB;MAC5D,OAAO,QAAQ;MACf,KAAK,QAAQ;MACb,WAAW,QAAQ;MACnB,aAAa,QAAQ;KACtB;EACH;EAEA,aAAa,SAA6B;AACxC,WAAO,KAAK,KAAK,KAAK,GAAG,YAAY,OAAO,gBAAgB,OAAO;EACrE;;;uCAjEW,cAAW;IAAA;EAAA;;4EAAX,cAAW,SAAX,aAAW,WAAA,YAFV,OAAM,CAAA;EAAA;;;sEAEP,aAAW,CAAA;UAHvB;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
