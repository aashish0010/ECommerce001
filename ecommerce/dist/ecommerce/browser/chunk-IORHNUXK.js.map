{
  "version": 3,
  "sources": ["src/app/shared/services/country.service.ts", "src/app/shared/store/action/country.action.ts", "src/app/shared/store/state/country.state.ts", "src/app/shared/services/state.service.ts", "src/app/shared/store/action/state.action.ts", "src/app/shared/store/state/state.state.ts"],
  "sourcesContent": ["import { HttpClient } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\n\nimport { Observable } from 'rxjs';\n\nimport { environment } from '../../../environments/environment';\nimport { ICountry } from '../interface/country.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CountryService {\n  private http = inject(HttpClient);\n\n  getCountries(): Observable<ICountry[]> {\n    return this.http.get<ICountry[]>(`${environment.URL}/country.json`);\n  }\n}\n", "export class GetCountriesAction {\n  static readonly type = '[Country] Get';\n  constructor() {}\n}\n", "import { Injectable, inject } from '@angular/core';\n\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { tap } from 'rxjs';\n\nimport { ICountry } from '../../interface/country.interface';\nimport { CountryService } from '../../services/country.service';\nimport { GetCountriesAction } from '../action/country.action';\n\nexport class CountryStateModel {\n  country = {\n    data: [] as ICountry[],\n  };\n}\n\n@State<CountryStateModel>({\n  name: 'country',\n  defaults: {\n    country: {\n      data: [],\n    },\n  },\n})\n@Injectable()\nexport class CountryState {\n  private countryService = inject(CountryService);\n\n  @Selector()\n  static country(state: CountryStateModel) {\n    return state.country;\n  }\n\n  @Selector()\n  static countries(state: CountryStateModel) {\n    return state?.country?.data?.map(cn => {\n      return { label: cn?.name, value: cn?.id };\n    });\n  }\n\n  @Action(GetCountriesAction)\n  getCountries(ctx: StateContext<CountryStateModel>, _action: GetCountriesAction) {\n    const state = ctx.getState();\n    if (state?.country?.data?.length) {\n      // If the country has been already loaded\n      // we just break the execution\n      return true;\n    }\n    return this.countryService.getCountries().pipe(\n      tap({\n        next: result => {\n          ctx.patchState({\n            country: {\n              data: result,\n            },\n          });\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n}\n", "import { HttpClient } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\n\nimport { Observable } from 'rxjs';\n\nimport { environment } from '../../../environments/environment';\nimport { IStates } from '../interface/state.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class StateService {\n  private http = inject(HttpClient);\n\n  getStates(): Observable<IStates[]> {\n    return this.http.get<IStates[]>(`${environment.URL}/state.json`);\n  }\n}\n", "export class GetStatesAction {\n  static readonly type = '[State] Get';\n  constructor(public country_id?: number) {}\n}\n", "import { Injectable, inject } from '@angular/core';\n\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { tap } from 'rxjs';\n\nimport { IStates } from '../../interface/state.interface';\nimport { StateService } from '../../services/state.service';\nimport { GetStatesAction } from '../action/state.action';\n\nexport class StateStateModel {\n  state = {\n    data: [] as IStates[],\n  };\n}\n\n@State<StateStateModel>({\n  name: 'state',\n  defaults: {\n    state: {\n      data: [],\n    },\n  },\n})\n@Injectable()\nexport class StateState {\n  private stateService = inject(StateService);\n\n  @Selector()\n  static state(state: StateStateModel) {\n    return state.state;\n  }\n\n  @Selector()\n  static states(state: StateStateModel) {\n    return (country_id?: number | null) => {\n      if (country_id)\n        return state.state.data\n          .filter(element => element.country_id == country_id)\n          .map(st => {\n            return { label: st?.name, value: st?.id, country_id: st?.country_id };\n          });\n      else\n        return state.state.data.map(st => {\n          return { label: st?.name, value: st?.id, country_id: st?.country_id };\n        });\n    };\n  }\n\n  @Action(GetStatesAction)\n  getStates(ctx: StateContext<StateStateModel>, _action: GetStatesAction) {\n    const state = ctx.getState();\n    if (state?.state?.data?.length) {\n      // If the state has been already loaded\n      // we just break the execution\n      return true;\n    }\n    return this.stateService.getStates().pipe(\n      tap({\n        next: result => {\n          ctx.patchState({\n            state: {\n              data: result,\n            },\n          });\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n}\n"],
  "mappings": "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",
  "names": ["CountryState", "StateState"]
}
