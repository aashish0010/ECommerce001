{
  "version": 3,
  "sources": ["src/app/shared/pipe/currency.pipe.ts"],
  "sourcesContent": ["import { CurrencyPipe } from '@angular/common';\nimport { inject, Pipe, PipeTransform } from '@angular/core';\n\nimport { Store } from '@ngxs/store';\nimport { Observable } from 'rxjs';\n\nimport { ICurrency } from '../interface/currency.interface';\nimport { IValues } from '../interface/setting.interface';\nimport { SettingState } from '../store/state/setting.state';\n\n@Pipe({\n  name: 'currencySymbol',\n  standalone: true,\n})\nexport class CurrencySymbolPipe implements PipeTransform {\n  private currencyPipe = inject(CurrencyPipe);\n\n  selectedCurrency$: Observable<ICurrency> = inject(Store).select(\n    SettingState.selectedCurrency,\n  ) as Observable<ICurrency>;\n\n  public symbol: string = '$';\n  public setting: IValues;\n  public selectedCurrency: ICurrency;\n\n  constructor() {\n    this.selectedCurrency$.subscribe(currency => (this.selectedCurrency = currency));\n  }\n\n  transform(\n    value: number | undefined,\n    position: 'before_price' | 'after_price' | string = 'before_price',\n  ): string | number {\n    if (!value) {\n      value = 0;\n    }\n    value = Number(value);\n    value = value * this.selectedCurrency?.exchange_rate;\n\n    this.symbol = this.selectedCurrency?.symbol;\n    position = this.selectedCurrency?.symbol_position;\n\n    let formattedValue = this.currencyPipe.transform(value, this.symbol);\n    formattedValue = formattedValue?.replace(this.symbol, '')!;\n\n    if (position === 'before_price') {\n      return `${this.symbol}${formattedValue}`;\n    } else {\n      return `${formattedValue}${this.symbol}`;\n    }\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAcM,IAAO,qBAAP,MAAO,oBAAkB;EAW7B,cAAA;AAVQ,SAAA,eAAe,OAAO,YAAY;AAE1C,SAAA,oBAA2C,OAAO,KAAK,EAAE,OACvD,aAAa,gBAAgB;AAGxB,SAAA,SAAiB;AAKtB,SAAK,kBAAkB,UAAU,cAAa,KAAK,mBAAmB,QAAS;EACjF;EAEA,UACE,OACA,WAAoD,gBAAc;AAElE,QAAI,CAAC,OAAO;AACV,cAAQ;IACV;AACA,YAAQ,OAAO,KAAK;AACpB,YAAQ,QAAQ,KAAK,kBAAkB;AAEvC,SAAK,SAAS,KAAK,kBAAkB;AACrC,eAAW,KAAK,kBAAkB;AAElC,QAAI,iBAAiB,KAAK,aAAa,UAAU,OAAO,KAAK,MAAM;AACnE,qBAAiB,gBAAgB,QAAQ,KAAK,QAAQ,EAAE;AAExD,QAAI,aAAa,gBAAgB;AAC/B,aAAO,GAAG,KAAK,MAAM,GAAG,cAAc;IACxC,OAAO;AACL,aAAO,GAAG,cAAc,GAAG,KAAK,MAAM;IACxC;EACF;;;uCApCW,qBAAkB;IAAA;EAAA;;6FAAlB,qBAAkB,MAAA,KAAA,CAAA;EAAA;;;sEAAlB,oBAAkB,CAAA;UAJ9B;WAAK;MACJ,MAAM;MACN,YAAY;KACb;;;",
  "names": []
}
