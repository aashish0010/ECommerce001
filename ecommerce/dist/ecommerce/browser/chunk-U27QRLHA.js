import{A as m,E as y}from"./chunk-KTUN43P2.js";import{$ as o,U as S,ea as s,g as i,qd as u,rd as f,sd as g}from"./chunk-XZ37OMXB.js";import{a as l,b as p}from"./chunk-4CLCTAJ7.js";var d=(()=>{class r{static{this.type="[Setting] Get"}}return r})(),h=(()=>{class r{static{this.type="[Setting] SetCurrency"}constructor(e){this.payload=e}}return r})();var C=(()=>{class r{constructor(){this.http=s(m)}getSettingOption(){return this.http.get(`${y.URL}/settings.json`)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var c=class a{constructor(){this.settingService=s(C)}static setting(t){return t.setting}static selectedCurrency(t){return t.selectedCurrency}getSettingOptions(t){return this.settingService.getSettingOption().pipe(S({next:e=>{let n=t.getState();!n.selectedCurrency&&e?.values?.general&&(n.selectedCurrency=e?.values?.general.default_currency),t.patchState(p(l({},n),{setting:e.values}))},error:e=>{throw new Error(e?.error?.message)}}))}selectedCurrency(t,e){let n=t.getState();t.patchState(p(l({},n),{selectedCurrency:e.payload}))}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275prov=o({token:a,factory:a.\u0275fac})}};i([u(d)],c.prototype,"getSettingOptions",null);i([u(h)],c.prototype,"selectedCurrency",null);i([g()],c,"setting",null);i([g()],c,"selectedCurrency",null);c=i([f({name:"setting",defaults:{setting:null,selectedCurrency:null}})],c);export{d as a,h as b,c};
