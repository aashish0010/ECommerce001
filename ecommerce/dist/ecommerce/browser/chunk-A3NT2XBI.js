import{a as J}from"./chunk-UKK4GQUY.js";import{a as Q}from"./chunk-4L3R23MB.js";import{j as K}from"./chunk-NL66A4LO.js";import"./chunk-EUAE4TU4.js";import{b as M,h as B,i as H}from"./chunk-JA635JCW.js";import"./chunk-5UCQBDOI.js";import"./chunk-EKUVLL7P.js";import"./chunk-6LLXT2ZV.js";import"./chunk-SCJBLV56.js";import{f as j,g as V,h as q,i as z,k as x}from"./chunk-N3FRQ2KK.js";import"./chunk-F62LBTWT.js";import"./chunk-BOSHTH3Y.js";import{o as N}from"./chunk-Z4BJ7BIT.js";import"./chunk-MKQ5IKBR.js";import{c as y,d as C}from"./chunk-X5NXBIQ4.js";import{m as U,n as O}from"./chunk-KTUN43P2.js";import{Dc as d,Gb as A,Hb as D,Ib as E,Ic as o,Jc as a,Nb as m,Ob as n,Pb as r,Qb as c,Ua as $,Yb as P,Za as t,bc as v,dc as k,ea as _,ka as L,la as F,ob as S,oc as R,od as G,rc as s,sc as b,tc as h}from"./chunk-XZ37OMXB.js";import"./chunk-4CLCTAJ7.js";var g=()=>["active"],ee=()=>["/account/dashboard"],ie=()=>["/account/order"],te=()=>["/account/point"],ne=()=>["/account/refund"],re=()=>["/account/addresses"];function oe(l,T){if(l&1&&(c(0,"img",7),o(1,"async")),l&2){let i,e=k();m("src",(i=a(1,1,e.user$))==null||i.profile_image==null?null:i.profile_image.original_url,$)}}function ae(l,T){if(l&1&&(n(0,"div",8)(1,"h4"),s(2),o(3,"async"),r()()),l&2){let i,e=k();t(2),b((i=a(3,1,e.user$))==null||i.name==null||(i=i.name.charAt(0))==null||(i=i.toString())==null?null:i.toUpperCase())}}function le(l,T){if(l&1){let i=P();n(0,"div",27),v("click",function(){L(i);let p=k();return F(p.uploadImage("remove"))}),c(1,"i",2),r()}}var W=(()=>{class l{constructor(){this.store=_(G),this.modal=_(N),this.accountService=_(B),this.user$=this.store.select(H.user)}logout(){this.modal.open(J,{centered:!0,windowClass:""}).componentInstance.confirm.subscribe(e=>{e===!0&&(this.store.dispatch(new K),this.modal.dismissAll())})}closeMenu(){this.accountService.isOpenMenu=!1}uploadImage(i){if(i?.target?.files){let e=new FormData;e.append("profile_image",i.target.files[0]),e.append("_method","PUT"),this.store.dispatch(new M(e))}else{let e=new FormData;e.append("profile_image_id",""),e.append("_method","PUT"),this.store.dispatch(new M(e))}}static{this.\u0275fac=function(e){return new(e||l)}}static{this.\u0275cmp=S({type:l,selectors:[["app-sidebar"]],decls:61,vars:61,consts:[[1,"dashboard-sidebar"],[1,"btn","back-btn",3,"click"],[1,"ri-close-line"],[1,"profile-top"],[1,"profile-top-box"],[1,"profile-image"],[1,"position-relative","h-100"],["alt","profile",1,"update_img",3,"src"],[1,"user-round"],[1,"user-icon"],["type","file","accept","image/*",3,"change"],[1,"ri-image-edit-line","d-lg-block","d-none"],[1,"ri-pencil-fill","edit-icon","d-lg-none"],[1,"user-icon-2"],[1,"profile-detail"],[1,"faq-tab"],["id","pills-tab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],[1,"nav-link",3,"routerLinkActive","routerLink"],[1,"ri-home-line"],[1,"ri-file-text-line"],[1,"ri-coin-line"],[1,"ri-money-dollar-circle-line"],[1,"ri-map-pin-line"],["role","presentation",1,"nav-item","logout-cls"],["href","javascript:void(0)",1,"btn","loagout-btn",3,"click"],[1,"ri-logout-box-r-line"],[1,"user-icon-2",3,"click"]],template:function(e,p){if(e&1&&(n(0,"div",0)(1,"button",1),v("click",function(){return p.closeMenu()}),c(2,"i",2),n(3,"span"),s(4),o(5,"translate"),r()(),n(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),A(10,oe,2,3,"img",7),o(11,"async"),o(12,"async"),D(13,ae,4,3,"div",8),n(14,"div",9)(15,"input",10),v("change",function(f){return p.uploadImage(f)}),r(),c(16,"i",11)(17,"i",12),r()()(),A(18,le,2,0,"div",13),o(19,"async"),o(20,"async"),r(),n(21,"div",14)(22,"h5"),s(23),o(24,"async"),o(25,"titlecase"),r(),n(26,"h6"),s(27),o(28,"async"),r()()(),n(29,"div",15)(30,"ul",16)(31,"li",17)(32,"a",18),c(33,"i",19),s(34),o(35,"translate"),r()(),n(36,"li",17)(37,"a",18),c(38,"i",20),s(39),o(40,"translate"),r()(),n(41,"li",17)(42,"a",18),c(43,"i",21),s(44),o(45,"translate"),r()(),n(46,"li",17)(47,"a",18),c(48,"i",22),s(49),o(50,"translate"),r()(),n(51,"li",17)(52,"a",18),c(53,"i",23),s(54),o(55,"translate"),r()(),n(56,"li",24)(57,"a",25),v("click",function(){return p.logout()}),c(58,"i",26),s(59),o(60,"translate"),r()()()()()),e&2){let u,f,w,I;R("open",p.accountService.isOpenMenu),t(4),b(a(5,23,"close")),t(6),E((u=a(11,25,p.user$))!=null&&u.profile_image&&(!((u=a(12,27,p.user$))==null||u.profile_image==null)&&u.profile_image.original_url)?10:13),t(8),E((f=a(19,29,p.user$))!=null&&f.profile_image&&(!((f=a(20,31,p.user$))==null||f.profile_image==null)&&f.profile_image.original_url)?18:-1),t(5),b(a(25,35,(w=a(24,33,p.user$))==null?null:w.name)),t(4),b((I=a(28,37,p.user$))==null?null:I.email),t(5),m("routerLinkActive",d(51,g))("routerLink",d(52,ee)),t(2),h(" ",a(35,39,"dashboard")," "),t(3),m("routerLinkActive",d(53,g))("routerLink",d(54,ie)),t(2),h("",a(40,41,"my_orders")," "),t(3),m("routerLinkActive",d(55,g))("routerLink",d(56,te)),t(2),h(" ",a(45,43,"earning_points")," "),t(3),m("routerLinkActive",d(57,g))("routerLink",d(58,ne)),t(2),h(" ",a(50,45,"refund_history")," "),t(3),m("routerLinkActive",d(59,g))("routerLink",d(60,re)),t(2),h(" ",a(55,47,"saved_address")," "),t(5),h(" ",a(60,49,"logout")," ")}},dependencies:[x,q,z,C,y,U,O],encapsulation:2})}}return l})();var Me=(()=>{class l{constructor(){this.router=_(V),this.accountService=_(B),this.breadcrumb={title:"Dashboard",items:[{label:"Dashboard",active:!1}]},this.router.events.subscribe(()=>{this.breadcrumb.title=this.router?.url?.split("?")[0]?.split("/")?.pop(),this.router?.url.includes("order/details")&&(this.breadcrumb.title="Order"),this.breadcrumb.items=[],this.breadcrumb.items.push({label:this.breadcrumb.title,active:!1})})}openMenu(){this.accountService.isOpenMenu=!0}static{this.\u0275fac=function(e){return new(e||l)}}static{this.\u0275cmp=S({type:l,selectors:[["app-account"]],decls:13,vars:4,consts:[[3,"breadcrumb"],[1,"dashboard-section","section-b-space","user-dashboard-section"],[1,"container"],[1,"row"],[1,"col-lg-3"],[1,"col-lg-9","position-relative"],["id","top-tabContent",1,"faq-content","tab-content"],[1,"show-btn","btn",3,"click"],["id","info",1,"tab-pane","fade","show","active"]],template:function(e,p){e&1&&(c(0,"app-breadcrumb",0),n(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4),c(5,"app-sidebar"),r(),n(6,"div",5)(7,"div",6)(8,"button",7),v("click",function(){return p.openMenu()}),s(9),o(10,"translate"),r(),n(11,"div",8),c(12,"router-outlet"),r()()()()()()),e&2&&(m("breadcrumb",p.breadcrumb),t(9),b(a(10,2,"show_menu")))},dependencies:[x,j,C,Q,W,y],encapsulation:2})}}return l})();export{Me as Account};
