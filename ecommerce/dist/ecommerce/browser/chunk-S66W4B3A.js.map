{
  "version": 3,
  "sources": ["src/app/shared/store/action/download.action.ts", "src/app/shared/services/downloads.service.ts", "src/app/shared/store/state/download.state.ts"],
  "sourcesContent": ["import { Params } from '../../interface/core.interface';\n\nexport class DownloadsAction {\n  static readonly type = '[Download] Get';\n  constructor(public payload?: Params) {}\n}\n\nexport class DownloadFilesAction {\n  static readonly type = '[Download] Files';\n  constructor(public id: number) {}\n}\n\nexport class DownloadLicenseAction {\n  static readonly type = '[Download] License';\n  constructor(public id: number) {}\n}\n", "import { HttpClient } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\n\nimport { Observable } from 'rxjs';\n\nimport { environment } from '../../../environments/environment';\nimport { Params } from '../interface/core.interface';\nimport { IDownloadModel } from '../interface/download.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DownloadsService {\n  private http = inject(HttpClient);\n\n  downloads(payload?: Params): Observable<IDownloadModel> {\n    return this.http.get<IDownloadModel>(`${environment.URL}/download.json`, { params: payload });\n  }\n}\n", "import { Injectable, inject } from '@angular/core';\n\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { tap } from 'rxjs';\n\nimport { IDownload } from '../../interface/download.interface';\nimport { DownloadsService } from '../../services/downloads.service';\nimport {\n  DownloadFilesAction,\n  DownloadLicenseAction,\n  DownloadsAction,\n} from '../action/download.action';\n\nexport class DownloadStateModel {\n  download = {\n    data: [] as IDownload[],\n    total: 0,\n  };\n}\n\n@State<DownloadStateModel>({\n  name: 'download',\n  defaults: {\n    download: {\n      data: [],\n      total: 0,\n    },\n  },\n})\n@Injectable()\nexport class DownloadState {\n  private downloadService = inject(DownloadsService);\n\n  @Selector()\n  static download(state: DownloadStateModel) {\n    return state.download;\n  }\n\n  @Action(DownloadsAction)\n  downloads(ctx: StateContext<DownloadStateModel>, action: DownloadsAction) {\n    return this.downloadService.downloads(action.payload).pipe(\n      tap({\n        next: result => {\n          ctx.patchState({\n            download: {\n              data: result.data,\n              total: result?.total ? result?.total : result.data?.length,\n            },\n          });\n        },\n        error: err => {\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n\n  @Action(DownloadFilesAction)\n  downloadFiles(_ctx: StateContext<DownloadStateModel>, _action: DownloadFilesAction) {\n    //  Download Files Logic Here\n  }\n\n  @Action(DownloadLicenseAction)\n  downloadLicense(_ctx: StateContext<DownloadStateModel>, _action: DownloadFilesAction) {\n    //  Download License Logic Here\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAEM,IAAO,kBAAP,MAAsB;;AACV,SAAA,OAAO;EAAiB;EACxC,YAAmB,SAAgB;AAAhB,SAAA,UAAA;EAAmB;;AAGlC,IAAO,sBAAP,MAA0B;;AACd,SAAA,OAAO;EAAmB;EAC1C,YAAmB,IAAU;AAAV,SAAA,KAAA;EAAa;;AAG5B,IAAO,wBAAP,MAA4B;;AAChB,SAAA,OAAO;EAAqB;EAC5C,YAAmB,IAAU;AAAV,SAAA,KAAA;EAAa;;;;ACF5B,IAAO,mBAAP,MAAO,kBAAgB;EAH7B,cAAA;AAIU,SAAA,OAAO,OAAO,UAAU;;EAEhC,UAAU,SAAgB;AACxB,WAAO,KAAK,KAAK,IAAoB,GAAG,YAAY,GAAG,kBAAkB,EAAE,QAAQ,QAAO,CAAE;EAC9F;;;uCALW,mBAAgB;IAAA;EAAA;;4EAAhB,mBAAgB,SAAhB,kBAAgB,WAAA,YAFf,OAAM,CAAA;EAAA;;;sEAEP,kBAAgB,CAAA;UAH5B;WAAW;MACV,YAAY;KACb;;;;;ACmBM,IAAM,gBAAN,MAAMA,eAAa;EAAnB,cAAA;AACG,SAAA,kBAAkB,OAAO,gBAAgB;;EAGjD,OAAO,SAAS,OAAyB;AACvC,WAAO,MAAM;EACf;EAGA,UAAU,KAAuC,QAAuB;AACtE,WAAO,KAAK,gBAAgB,UAAU,OAAO,OAAO,EAAE,KACpD,IAAI;MACF,MAAM,YAAS;AACb,YAAI,WAAW;UACb,UAAU;YACR,MAAM,OAAO;YACb,OAAO,QAAQ,QAAQ,QAAQ,QAAQ,OAAO,MAAM;;SAEvD;MACH;MACA,OAAO,SAAM;AACX,cAAM,IAAI,MAAM,KAAK,OAAO,OAAO;MACrC;KACD,CAAC;EAEN;EAGA,cAAc,MAAwC,SAA4B;EAElF;EAGA,gBAAgB,MAAwC,SAA4B;EAEpF;;;uCAnCWA,gBAAa;IAAA;EAAA;;4EAAbA,gBAAa,SAAbA,eAAa,UAAA,CAAA;EAAA;;AASxB,WAAA;EADC,OAAO,eAAe;;AAoBvB,WAAA;EADC,OAAO,mBAAmB;;AAM3B,WAAA;EADC,OAAO,qBAAqB;;AA5BtB,WAAA;EADN,SAAQ;;AAHE,gBAAa,WAAA;EAVzB,MAA0B;IACzB,MAAM;IACN,UAAU;MACR,UAAU;QACR,MAAM,CAAA;QACN,OAAO;;;GAGZ;GAEY,aAAa;;sEAAb,eAAa,CAAA;UADzB;;;",
  "names": ["DownloadState"]
}
