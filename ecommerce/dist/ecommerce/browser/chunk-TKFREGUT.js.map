{
  "version": 3,
  "sources": ["src/app/shared/services/color.service.ts", "src/app/shared/store/action/color.action.ts", "src/app/shared/store/state/color.state.ts"],
  "sourcesContent": ["import { HttpClient } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\n\nimport { Observable, map } from 'rxjs';\n\nimport { environment } from '../../../environments/environment';\nimport { IColor, IColorModel } from '../interface/color.interface';\nimport { Params } from '../interface/core.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ColorService {\n  private http = inject(HttpClient);\n\n  public skeletonLoader: boolean = false;\n\n  getColors(payload?: Params): Observable<IColorModel> {\n    const params = { companyInfoId: environment.companyInfoId, ...payload };\n    return this.http.get<any>(`${environment.baseURL}color`, { params }).pipe(\n      map(res => ({\n        data: (res.data || []) as IColor[],\n        total: res.total || 0,\n        current_page: 1,\n        per_page: res.total || 100,\n        last_page: 1,\n      } as IColorModel)),\n    );\n  }\n}\n", "import { Params } from '../../interface/core.interface';\n\nexport class GetColorsAction {\n  static readonly type = '[Color] Get';\n  constructor(public payload?: Params) {}\n}\n", "import { Injectable, inject } from '@angular/core';\n\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { tap } from 'rxjs';\n\nimport { IColor } from '../../interface/color.interface';\nimport { ColorService } from '../../services/color.service';\nimport { GetColorsAction } from '../action/color.action';\n\nexport class ColorStateModel {\n  color = {\n    data: [] as IColor[],\n    total: 0,\n  };\n}\n\n@State<ColorStateModel>({\n  name: 'color',\n  defaults: {\n    color: {\n      data: [],\n      total: 0,\n    },\n  },\n})\n@Injectable()\nexport class ColorState {\n  private colorService = inject(ColorService);\n\n  @Selector()\n  static color(state: ColorStateModel) {\n    return state.color;\n  }\n\n  @Action(GetColorsAction)\n  getColors(ctx: StateContext<ColorStateModel>, action: GetColorsAction) {\n    if (ctx.getState().color.data.length > 0) return;\n    this.colorService.skeletonLoader = true;\n    return this.colorService.getColors(action.payload).pipe(\n      tap({\n        next: result => {\n          ctx.patchState({\n            color: {\n              data: result.data,\n              total: result?.total ? result.total : result.data?.length,\n            },\n          });\n        },\n        complete: () => {\n          this.colorService.skeletonLoader = false;\n        },\n        error: err => {\n          this.colorService.skeletonLoader = false;\n          throw new Error(err?.error?.message);\n        },\n      }),\n    );\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAYM,IAAO,eAAP,MAAO,cAAY;EAHzB,cAAA;AAIU,SAAA,OAAO,OAAO,UAAU;AAEzB,SAAA,iBAA0B;;EAEjC,UAAU,SAAgB;AACxB,UAAM,SAAS,iBAAE,eAAe,YAAY,iBAAkB;AAC9D,WAAO,KAAK,KAAK,IAAS,GAAG,YAAY,OAAO,SAAS,EAAE,OAAM,CAAE,EAAE,KACnE,IAAI,UAAQ;MACV,MAAO,IAAI,QAAQ,CAAA;MACnB,OAAO,IAAI,SAAS;MACpB,cAAc;MACd,UAAU,IAAI,SAAS;MACvB,WAAW;MACI,CAAC;EAEtB;;;uCAhBW,eAAY;IAAA;EAAA;;4EAAZ,eAAY,SAAZ,cAAY,WAAA,YAFX,OAAM,CAAA;EAAA;;;sEAEP,cAAY,CAAA;UAHxB;WAAW;MACV,YAAY;KACb;;;;;ACTK,IAAO,kBAAP,MAAsB;;AACV,SAAA,OAAO;EAAc;EACrC,YAAmB,SAAgB;AAAhB,SAAA,UAAA;EAAmB;;;;ACsBjC,IAAM,aAAN,MAAMA,YAAU;EAAhB,cAAA;AACG,SAAA,eAAe,OAAO,YAAY;;EAG1C,OAAO,MAAM,OAAsB;AACjC,WAAO,MAAM;EACf;EAGA,UAAU,KAAoC,QAAuB;AACnE,QAAI,IAAI,SAAQ,EAAG,MAAM,KAAK,SAAS;AAAG;AAC1C,SAAK,aAAa,iBAAiB;AACnC,WAAO,KAAK,aAAa,UAAU,OAAO,OAAO,EAAE,KACjD,IAAI;MACF,MAAM,YAAS;AACb,YAAI,WAAW;UACb,OAAO;YACL,MAAM,OAAO;YACb,OAAO,QAAQ,QAAQ,OAAO,QAAQ,OAAO,MAAM;;SAEtD;MACH;MACA,UAAU,MAAK;AACb,aAAK,aAAa,iBAAiB;MACrC;MACA,OAAO,SAAM;AACX,aAAK,aAAa,iBAAiB;AACnC,cAAM,IAAI,MAAM,KAAK,OAAO,OAAO;MACrC;KACD,CAAC;EAEN;;;uCA/BWA,aAAU;IAAA;EAAA;;4EAAVA,aAAU,SAAVA,YAAU,UAAA,CAAA;EAAA;;AASrB,WAAA;EADC,OAAO,eAAe;;AAJhB,WAAA;EADN,SAAQ;;AAHE,aAAU,WAAA;EAVtB,MAAuB;IACtB,MAAM;IACN,UAAU;MACR,OAAO;QACL,MAAM,CAAA;QACN,OAAO;;;GAGZ;GAEY,UAAU;;sEAAV,YAAU,CAAA;UADtB;;;",
  "names": ["ColorState"]
}
