import{a as I}from"./chunk-EUAE4TU4.js";import{g as h}from"./chunk-N3FRQ2KK.js";import{i as S}from"./chunk-F62LBTWT.js";import{A as d,E as C}from"./chunk-KTUN43P2.js";import{$ as c,U as l,ea as a,g as r,od as f,qd as p,rd as u,sd as m}from"./chunk-XZ37OMXB.js";var A=(()=>{class o{static{this.type="[Compare] Get"}}return o})(),v=(()=>{class o{static{this.type="[Compare] post"}constructor(t){this.payload=t}}return o})(),y=(()=>{class o{static{this.type="[Compare] delete"}constructor(t){this.id=t}}return o})();var x=(()=>{class o{constructor(){this.http=a(d),this.skeletonLoader=!1}getComparItems(){return this.http.get(`${C.URL}/compare.json`)}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var i=class s{constructor(){this.store=a(f),this.router=a(h),this.notificationService=a(S),this.authService=a(I),this.compareService=a(x)}static compareItems(e){return e.items}static compareIds(e){return e.comparIds}static compareTotal(e){return e.total}getCompareItems(e){if(this.store.selectSnapshot(t=>t.auth&&t.auth.access_token))return this.compareService.skeletonLoader=!0,this.compareService.getComparItems().pipe(l({next:t=>{let n=t.data.map(g=>g.id);e.patchState({items:t.data,total:t?.total?t?.total:t.data?.length,comparIds:n})},complete:()=>{this.compareService.skeletonLoader=!1},error:t=>{throw new Error(t?.error?.message)}}))}add(e,t){}delete(e,{id:t}){}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=c({token:s,factory:s.\u0275fac})}};r([p(A)],i.prototype,"getCompareItems",null);r([p(v)],i.prototype,"add",null);r([p(y)],i.prototype,"delete",null);r([m()],i,"compareItems",null);r([m()],i,"compareIds",null);r([m()],i,"compareTotal",null);i=r([u({name:"compare",defaults:{items:[],total:0,comparIds:[]}})],i);export{A as a,v as b,y as c,x as d,i as e};
