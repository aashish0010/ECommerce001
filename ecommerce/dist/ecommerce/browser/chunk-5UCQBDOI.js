import{b as w,g as P}from"./chunk-EKUVLL7P.js";import{h as j,k as F}from"./chunk-N3FRQ2KK.js";import{i as L,m as V}from"./chunk-KTUN43P2.js";import{Ac as E,Ec as C,Gb as r,Ib as u,Ic as f,Jc as b,Nb as p,Ob as c,Pb as _,Qb as S,Tc as a,Ua as B,Yb as T,Za as d,bc as I,dc as e,ea as k,ec as D,fc as N,ka as y,la as v,ob as M,oc as $,od as g,qc as s,rc as m,sc as x,xa as h}from"./chunk-XZ37OMXB.js";var R=["*"],z=n=>["/category",n],A=n=>["/product/",n],U=n=>({"position-relative spinning":n});function q(n,l){if(n&1&&(c(0,"a",3),m(1),_()),n&2){let t,i=e(3);s(i.class()),p("href",E((t=i.data())==null||t.redirect_link==null?null:t.redirect_link.link),B),d(),x(i.data().button_text)}}function G(n,l){if(n&1&&(c(0,"a",4),m(1),_()),n&2){let t=e(3);s(t.class()),d(),x(t.data().button_text)}}function H(n,l){if(n&1&&r(0,q,2,5,"a",1)(1,G,2,3,"a",2),n&2){let t,i=e(2);u(!((t=i.data())==null||t.redirect_link==null)&&t.redirect_link.link?0:1)}}function J(n,l){if(n&1&&(c(0,"a",6),m(1),_()),n&2){let t,i=e(3);s(i.class()),p("routerLink",C(4,z,(t=i.data())==null||t.redirect_link==null?null:t.redirect_link.link)),d(),x(i.data().button_text)}}function K(n,l){if(n&1&&(c(0,"a",4),m(1),_()),n&2){let t=e(3);s(t.class()),d(),x(t.data().button_text)}}function Q(n,l){if(n&1&&r(0,J,2,6,"a",5)(1,K,2,3,"a",2),n&2){let t,i=e(2);u(!((t=i.data())==null||t.redirect_link==null)&&t.redirect_link.link?0:1)}}function W(n,l){if(n&1&&(c(0,"a",6),m(1),_()),n&2){let t,i=e(3);s(i.class()),p("routerLink",C(4,A,(t=i.data())==null?null:t.product_slug)),d(),x(i.data().button_text)}}function X(n,l){if(n&1&&r(0,W,2,6,"a",5),n&2){let t,i=e(2);u((t=i.data())!=null&&t.product_slug?0:-1)}}function Y(n,l){if(n&1&&r(0,H,2,1)(1,Q,2,1)(2,X,1,1),n&2){let t,i=e();u(((t=i.data())==null||t.redirect_link==null?null:t.redirect_link.link_type)==="external_url"?0:((t=i.data())==null||t.redirect_link==null?null:t.redirect_link.link_type)==="collection"?1:((t=i.data())==null||t.redirect_link==null?null:t.redirect_link.link_type)==="product"?2:-1)}}function Z(n,l){if(n&1&&S(0,"i"),n&2){let t=e(2);s(t.iconClass())}}function tt(n,l){if(n&1){let t=T();c(0,"button",7),f(1,"async"),f(2,"async"),I("click",function(){y(t);let o=e();return v(o.onClick(o.id()))}),c(3,"div",8),f(4,"async"),r(5,Z,1,2,"i",9),N(6),_()()}if(n&2){let t=e();s(t.class()?t.class():""),$("disabled",t.disabled()||b(1,9,t.spinnerStatus$)&&t.buttonId===t.id()),p("id",t.id())("type",t.type())("disabled",t.disabled()||b(2,11,t.spinnerStatus$)&&t.buttonId===t.id()),d(3),p("ngClass",C(15,U,t.spinner()&&b(4,13,t.spinnerStatus$)&&t.buttonId&&t.buttonId===t.id())),d(2),u(t.iconClass()?5:-1)}}var rt=(()=>{class n{constructor(){this.class=a(),this.iconClass=a(),this.id=a(),this.label=a(),this.type=a("submit"),this.spinner=a(!0),this.disabled=a(!1),this.data=a(),this.spinnerStatus$=k(g).select(P.buttonSpinner),this.product$=k(g).select(w.productByIds),this.spinnerStatus$.subscribe(t=>{t==!1&&(this.buttonId=null)})}onClick(t){this.buttonId=t}ngOnChanges(t){t.data?.currentValue&&typeof t.data?.currentValue?.redirect_link?.link=="number"&&this.product$.subscribe(i=>{i.map(o=>{o.id===t.data?.currentValue?.redirect_link?.link&&(this.data().product_slug=o.slug)})})}getProductSlug(t,i){let o=i.find(O=>{O.id});return o?o.slug:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=M({type:n,selectors:[["app-button"]],inputs:{class:[1,"class"],iconClass:[1,"iconClass"],id:[1,"id"],label:[1,"label"],type:[1,"type"],spinner:[1,"spinner"],disabled:[1,"disabled"],data:[1,"data"]},features:[h],ngContentSelectors:R,decls:2,vars:1,consts:[[3,"class","id","type","disabled"],[3,"href","class"],["href","javascript:void(0)",3,"class"],[3,"href"],["href","javascript:void(0)"],[3,"routerLink","class"],[3,"routerLink"],[3,"click","id","type","disabled"],[3,"ngClass"],[3,"class"]],template:function(i,o){i&1&&(D(),r(0,Y,3,1)(1,tt,7,17,"button",0)),i&2&&u(o.type()==="button_link"?0:1)},dependencies:[F,j,L,V],encapsulation:2})}}return n})();export{rt as a};
